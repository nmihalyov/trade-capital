window.onload=function(){var i=0;$(".js-open-popup").on("click",function(e){e.preventDefault(),i=window.scrollY,$("body").css({position:"fixed","margin-top":-i}),$(".popup").fadeIn(300)}),$(".popup__close").on("click",function(){$("body").css({position:"static","margin-top":"0"}),window.scrollTo(0,i),$(".popup").fadeOut(300)}),$(".js-send-tel").on("click",function(e){e.preventDefault(),$(this).attr("disabled","disabled"),$(this).siblings(".input__field").attr("disabled","disabled"),$(".js-send-form").removeAttr("disabled")});function e(e){e<1200?$('meta[name="viewport"]').attr("content","width=320, initial-scale=1, user-scalable=no"):$('meta[name="viewport"]').attr("content","width=device-width, initial-scale=1, user-scalable=no")}e($(window).innerWidth()),$(window).resize(function(){e($(window).innerWidth())}),$(".js-play-video").on("click",function(){$(this).parent().find("iframe")[0].src+="?autoplay=1",$(this).hide()}),$(".input__field").on("focus",function(){$(this).parent().addClass("input--focused")}).on("blur",function(){$(this).parent().removeClass("input--focused")}),$(".input__field").on("change",function(){""!==$(this).val()?$(this).parent().addClass("input--filled"):$(this).parent().removeClass("input--filled")}),$(".input--tel .input__field").inputmask("8 999 999 99 99"),$(".input--tel .input__field").on("input",function(){var e=$(this).val();""===e||/_/g.test(e)?$(this).siblings(".js-send-tel").attr("disabled","disabled"):$(this).siblings(".js-send-tel").removeAttr("disabled")}),$(".input--code .input__field").inputmask("9999");function t(){n.map(function(e){e.offset().top<=window.scrollY+$(".header").innerHeight()+30&&($(".header__link--current").removeClass("header__link--current"),$(".header__link[data-scroll="+e[0].classList[0]+"]").addClass("header__link--current"))})}var n=[$(".hero"),$(".why"),$(".about"),$(".faq")];t();var a,o=(a=0,function(e,i){clearTimeout(a),a=setTimeout(e,i)});$(window).on("scroll",function(){o(t,300)});var l=0,s=!1;$(".js-scrollto").on("click",function(e){e.preventDefault(),$("body").css({position:"static","margin-top":"0"}),s=!1,$(".header__burger").removeClass("header__burger--active"),$(".header__mobile").removeClass("header__mobile--active"),$([document.documentElement,document.body]).animate({scrollTop:$("."+$(this).attr("data-scroll")).offset().top-$(".header").innerHeight()},500)}),$(".header__burger").on("click",function(){$(this).toggleClass("header__burger--active"),$(".header__mobile").toggleClass("header__mobile--active"),(s=!s)?(l=window.scrollY,$("body").css({position:"fixed","margin-top":-l})):($("body").css({position:"static","margin-top":"0"}),window.scrollTo(0,l))}),$(".js-scroll-calc").on("click",function(e){e.preventDefault(),$([document.documentElement,document.body]).animate({scrollTop:$(".calc").offset().top-$(".header").innerHeight()-30},500)});function r(){var e=parseInt(d*(p/100)*30*c+d);$(".calculator__total span").text(e)}var d=0,c=0,p=0;if($(".calculator__input input").on("input",function(){"deposit"===$(this).attr("name")&&(d=+$(this).val()),"term"===$(this).attr("name")&&(c=+$(this).val()),r()}),$(".js-range").ionRangeSlider({type:"single",max:5,min:0,step:.1,onChange:function(e){var i=e.input[0].value;p=+i,r(),$(".irs-single").show(),$(".calculator__grid-item").map(function(e){+e<=+i?$(".calculator__grid-item:eq("+e+")").addClass("calculator__grid-item--check"):$(".calculator__grid-item:eq("+e+")").removeClass("calculator__grid-item--check")})},onFinish:function(){$(".irs-single").hide()}}),$(window).innerWidth()<1200)new Swiper(".feedback__grid",{direction:"horizontal",speed:500,wrapperClass:"feedback__row",slideClass:"feedback__video",spaceBetween:30,loop:!0,pagination:{el:".feedback__pagination",clickable:!0}});if($(window).innerWidth()<1200)new Swiper(".slider__container",{direction:"horizontal",speed:500,wrapperClass:"slider__wrapper",slideClass:"slider__slide",loop:!0,spaceBetween:30,pagination:{el:".slider__pagination",clickable:!0}});else new Swiper(".slider__container",{direction:"vertical",speed:500,wrapperClass:"slider__wrapper",slideClass:"slider__slide",loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},pagination:{el:".slider__pagination",clickable:!0}});$(".faq-item__head").on("click",function(){$(this).toggleClass("faq-item__head--opened"),$(this).next().slideToggle(300)})};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJvbmxvYWQiLCJzY3JvbGwiLCIkIiwib24iLCJlIiwiY3NzIiwicG9zaXRpb24iLCJtYXJnaW4tdG9wIiwiZmFkZUluIiwic2Nyb2xsVG8iLCJmYWRlT3V0IiwiYXR0ciIsInNpYmxpbmdzIiwicmVtb3ZlQXR0ciIsInNldFJlc3BvbnNpdmUiLCJ3aWR0aCIsImlubmVyV2lkdGgiLCJyZXNpemUiLCJwYXJlbnQiLCJmaW5kIiwic3JjIiwiaGlkZSIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJ2YWwiLCJpbnB1dG1hc2siLCJ0aGlzIiwidGVzdCIsInNldExpbmtzIiwic2VjdGlvbnMiLCJtYXAiLCJlbCIsIm9mZnNldCIsInRvcCIsInRvcE9mZnNldCIsImlubmVySGVpZ2h0IiwiY2xhc3NMaXN0IiwidGltZXIiLCJkZWJvdW5jZSIsImNhbGxiYWNrIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsIm1zIiwid2luZG93T2Zmc2V0IiwiaGVhZGVyTW9iaWxlU2hvd24iLCJkb2N1bWVudCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJ0b2dnbGVDbGFzcyIsImNhbGN1bGF0ZSIsInZhbHVlIiwicGFyc2VJbnQiLCJkZXBvc2l0IiwicHJvZml0IiwidGVybSIsInRleHQiLCJpb25SYW5nZVNsaWRlciIsInR5cGUiLCJtYXgiLCJtaW4iLCJzdGVwIiwib25DaGFuZ2UiLCJkYXRhIiwiaW5wdXQiLCJzaG93Iiwib25GaW5pc2giLCJTd2lwZXIiLCJkaXJlY3Rpb24iLCJzcGVlZCIsIndyYXBwZXJDbGFzcyIsInNsaWRlQ2xhc3MiLCJzcGFjZUJldHdlZW4iLCJsb29wIiwicGFnaW5hdGlvbiIsImNsaWNrYWJsZSIsInNsaWRlciIsImF1dG9wbGF5IiwiZGVsYXkiLCJkaXNhYmxlT25JbnRlcmFjdGlvbiIsIm5leHQiLCJzbGlkZVRvZ2dsZSJdLCJtYXBwaW5ncyI6IkFBQUFBLE9BQU9DLE9BQVMsV0FF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U0FBQUEsR0FDRSxJQUFNckMsRUFBTXNDLEVBQUtDLE1BQU0sR0FBR2IsTUFDMUJHLEdBQUFBLEVBQ0FKLElBRUEvQyxFQUFBQSxlQUFBOEQsT0FDQTlELEVBQUFBLDBCQUFBNEIsSUFBNEJBLFNBQUFBLElBQ3RCQyxJQUFKUCxFQUNFdEIsRUFBQUEsNkJBQUFBLEVBQUFBLEtBQUFvQixTQUFzQ0EsZ0NBRXRDcEIsRUFBQUEsNkJBQUFBLEVBQUFBLEtBQUFxQixZQUFzQ0EsbUNBSTVDMEMsU0FBQUEsV0FDRS9ELEVBQUFBLGVBQUFtQixVQUdFbkIsRUFBRUgsUUFBUWlCLGFBQWUsS0FDTixJQUFJa0QsT0FBTyxrQkFBbUIsQ0FDbkRDLFVBQUFBLGFBQ0FDLE1BQUFBLElBQ0FDLGFBQUFBLGdCQUNBQyxXQUFBQSxrQkFDQUMsYUFBQUEsR0FDQUMsTUFBQUEsRUFDQUMsV0FBQUEsQ0FDRTFDLEdBQUFBLHdCQUNBMkMsV0FBQUEsS0FJSixHQUFJeEUsRUFBRUgsUUFBUWlCLGFBQWUsS0FDZCxJQUFJa0QsT0FBTyxxQkFBc0IsQ0FDOUNDLFVBQUFBLGFBQ0FDLE1BQUFBLElBQ0FDLGFBQUFBLGtCQUNBQyxXQUFBQSxnQkFDQUUsTUFBQUEsRUFDQUQsYUFBQUEsR0FDQUUsV0FBQUEsQ0FDRTFDLEdBQUFBLHNCQUNBMkMsV0FBQUEsVUFJRUMsSUFBU1QsT0FBQSxxQkFBQSxDQUNiQyxVQUFBQSxXQUNBQyxNQUFBQSxJQUNBQyxhQUFBQSxrQkFDQUMsV0FBQUEsZ0JBQ0FFLE1BQUFBLEVBQ0FJLFNBQUFBLENBQ0VDLE1BQUFBLElBQ0FDLHNCQUFBQSxHQUVGTCxXQUFBQSxDQUNFMUMsR0FBQUEsc0JBQ0EyQyxXQUFBQSxLQUlKeEUsRUFBRSxtQkFBbUJDLEdBQUcsUUFBUyxXQUNqQ0QsRUFBQUEsTUFBQThDLFlBQVFBLDBCQUNSOUMsRUFBQUEsTUFBQTZFLE9BQUFDLFlBQWVBIiwiZmlsZSI6ImNvbW1vbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cub25sb2FkID0gKCkgPT4ge1xuXG4gIGxldCBzY3JvbGwgPSAwO1xuXG4kKCcuanMtb3Blbi1wb3B1cCcpLm9uKCdjbGljaycsIGUgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgc2Nyb2xsID0gd2luZG93LnNjcm9sbFk7XG5cbiAgJCgnYm9keScpLmNzcyh7XG4gICAgJ3Bvc2l0aW9uJzogJ2ZpeGVkJyxcbiAgICAnbWFyZ2luLXRvcCc6IC1zY3JvbGxcbiAgfSk7XG4gIFxuICAkKCcucG9wdXAnKS5mYWRlSW4oMzAwKTtcbn0pO1xuXG4kKCcucG9wdXBfX2Nsb3NlJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAkKCdib2R5JykuY3NzKHtcbiAgICAncG9zaXRpb24nOiAnc3RhdGljJyxcbiAgICAnbWFyZ2luLXRvcCc6ICcwJ1xuICB9KTtcblxuICB3aW5kb3cuc2Nyb2xsVG8oMCwgc2Nyb2xsKTtcblxuICAkKCcucG9wdXAnKS5mYWRlT3V0KDMwMCk7XG59KTtcblxuJCgnLmpzLXNlbmQtdGVsJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICQodGhpcykuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgJCh0aGlzKS5zaWJsaW5ncygnLmlucHV0X19maWVsZCcpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICQoJy5qcy1zZW5kLWZvcm0nKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xufSk7XG4gIGNvbnN0IHNldFJlc3BvbnNpdmUgPSB3aWR0aCA9PiB7XG4gIGlmICh3aWR0aCA8IDEyMDApIHtcbiAgICAkKCdtZXRhW25hbWU9XCJ2aWV3cG9ydFwiXScpLmF0dHIoJ2NvbnRlbnQnLCAnd2lkdGg9MzIwLCBpbml0aWFsLXNjYWxlPTEsIHVzZXItc2NhbGFibGU9bm8nKTtcbiAgfSBlbHNlIHtcbiAgICAkKCdtZXRhW25hbWU9XCJ2aWV3cG9ydFwiXScpLmF0dHIoJ2NvbnRlbnQnLCAnd2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEsIHVzZXItc2NhbGFibGU9bm8nKTtcbiAgfVxufTtcblxuc2V0UmVzcG9uc2l2ZSgkKHdpbmRvdykuaW5uZXJXaWR0aCgpKTtcblxuJCh3aW5kb3cpLnJlc2l6ZSgoKSA9PiB7XG4gIHNldFJlc3BvbnNpdmUoJCh3aW5kb3cpLmlubmVyV2lkdGgoKSk7XG59KTtcblxuICAkKCcuanMtcGxheS12aWRlbycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgJCh0aGlzKS5wYXJlbnQoKS5maW5kKCdpZnJhbWUnKVswXS5zcmMgKz0gXCI/YXV0b3BsYXk9MVwiO1xuICAkKHRoaXMpLmhpZGUoKTtcbn0pO1xuICAkKCcuaW5wdXRfX2ZpZWxkJykub24oJ2ZvY3VzJywgZnVuY3Rpb24gKCkge1xuICAkKHRoaXMpLnBhcmVudCgpLmFkZENsYXNzKCdpbnB1dC0tZm9jdXNlZCcpO1xufSkub24oJ2JsdXInLCBmdW5jdGlvbiAoKSB7XG4gICQodGhpcykucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2lucHV0LS1mb2N1c2VkJyk7XG59KTtcblxuJCgnLmlucHV0X19maWVsZCcpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICQodGhpcykudmFsKCkgIT09ICcnID8gJCh0aGlzKS5wYXJlbnQoKS5hZGRDbGFzcygnaW5wdXQtLWZpbGxlZCcpIDogJCh0aGlzKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygnaW5wdXQtLWZpbGxlZCcpO1xufSk7XG5cbiQoJy5pbnB1dC0tdGVsIC5pbnB1dF9fZmllbGQnKS5pbnB1dG1hc2soJzggOTk5IDk5OSA5OSA5OScpO1xuXG4kKCcuaW5wdXQtLXRlbCAuaW5wdXRfX2ZpZWxkJykub24oJ2lucHV0JywgZnVuY3Rpb24gKCkge1xuICBjb25zdCB2YWwgPSAkKHRoaXMpLnZhbCgpO1xuICBcbiAgaWYgKHZhbCAhPT0gJycgJiYgIS9fL2cudGVzdCh2YWwpKSB7XG4gICAgJCh0aGlzKS5zaWJsaW5ncygnLmpzLXNlbmQtdGVsJykucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgfSBlbHNlIHtcbiAgICAkKHRoaXMpLnNpYmxpbmdzKCcuanMtc2VuZC10ZWwnKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICB9XG59KTtcblxuJCgnLmlucHV0LS1jb2RlIC5pbnB1dF9fZmllbGQnKS5pbnB1dG1hc2soJzk5OTknKTtcblxuICBjb25zdCBzZWN0aW9ucyA9IFskKCcuaGVybycpLCAkKCcud2h5JyksICQoJy5hYm91dCcpLCAkKCcuZmFxJyldO1xuXG5jb25zdCBzZXRMaW5rcyA9ICgpID0+IHtcbiAgc2VjdGlvbnMubWFwKGVsID0+IHtcbiAgICBjb25zdCB0b3BPZmZzZXQgPSBlbC5vZmZzZXQoKS50b3A7XG4gICAgaWYgKHRvcE9mZnNldCA8PSB3aW5kb3cuc2Nyb2xsWSArICQoJy5oZWFkZXInKS5pbm5lckhlaWdodCgpICsgMzApIHtcbiAgICAgICQoJy5oZWFkZXJfX2xpbmstLWN1cnJlbnQnKS5yZW1vdmVDbGFzcygnaGVhZGVyX19saW5rLS1jdXJyZW50Jyk7XG4gICAgICAkKGAuaGVhZGVyX19saW5rW2RhdGEtc2Nyb2xsPSR7ZWxbMF0uY2xhc3NMaXN0WzBdfV1gKS5hZGRDbGFzcygnaGVhZGVyX19saW5rLS1jdXJyZW50Jyk7XG4gICAgfVxuICB9KTtcbn07XG5cbnNldExpbmtzKCk7XG5cbmNvbnN0IGRlYm91bmNlID0gKGZ1bmN0aW9uKCl7XG4gIHZhciB0aW1lciA9IDA7XG4gIHJldHVybiBmdW5jdGlvbihjYWxsYmFjaywgbXMpe1xuICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgdGltZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCBtcyk7XG4gIH07XG59KSgpO1xuXG4kKHdpbmRvdykub24oJ3Njcm9sbCcsICgpID0+IHtcbiAgZGVib3VuY2Uoc2V0TGlua3MsIDMwMCk7XG59KTtcblxubGV0IHdpbmRvd09mZnNldCA9IDA7XG5sZXQgaGVhZGVyTW9iaWxlU2hvd24gPSBmYWxzZTtcblxuJCgnLmpzLXNjcm9sbHRvJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICQoJ2JvZHknKS5jc3Moe1xuICAgICdwb3NpdGlvbic6ICdzdGF0aWMnLFxuICAgICdtYXJnaW4tdG9wJzogJzAnXG4gIH0pO1xuXG4gIGhlYWRlck1vYmlsZVNob3duID0gZmFsc2U7XG5cbiAgJCgnLmhlYWRlcl9fYnVyZ2VyJykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fYnVyZ2VyLS1hY3RpdmUnKTtcbiAgJCgnLmhlYWRlcl9fbW9iaWxlJykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fbW9iaWxlLS1hY3RpdmUnKTtcblxuICAkKFtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIGRvY3VtZW50LmJvZHldKS5hbmltYXRlKHtcbiAgICBzY3JvbGxUb3A6ICQoYC4keyQodGhpcykuYXR0cignZGF0YS1zY3JvbGwnKX1gKS5vZmZzZXQoKS50b3AgLSAkKCcuaGVhZGVyJykuaW5uZXJIZWlnaHQoKVxuICB9LCA1MDApO1xufSk7XG5cbiQoJy5oZWFkZXJfX2J1cmdlcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgJCh0aGlzKS50b2dnbGVDbGFzcygnaGVhZGVyX19idXJnZXItLWFjdGl2ZScpO1xuICAkKCcuaGVhZGVyX19tb2JpbGUnKS50b2dnbGVDbGFzcygnaGVhZGVyX19tb2JpbGUtLWFjdGl2ZScpO1xuXG4gIGhlYWRlck1vYmlsZVNob3duID0gIWhlYWRlck1vYmlsZVNob3duO1xuXG4gIGlmIChoZWFkZXJNb2JpbGVTaG93bikge1xuICAgIHdpbmRvd09mZnNldCA9IHdpbmRvdy5zY3JvbGxZO1xuICAgICQoJ2JvZHknKS5jc3Moe1xuICAgICAgJ3Bvc2l0aW9uJzogJ2ZpeGVkJyxcbiAgICAgICdtYXJnaW4tdG9wJzogLXdpbmRvd09mZnNldFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgICQoJ2JvZHknKS5jc3Moe1xuICAgICAgJ3Bvc2l0aW9uJzogJ3N0YXRpYycsXG4gICAgICAnbWFyZ2luLXRvcCc6ICcwJ1xuICAgIH0pO1xuXG4gICAgd2luZG93LnNjcm9sbFRvKDAsIHdpbmRvd09mZnNldCk7XG4gIH1cbn0pO1xuICAkKCcuanMtc2Nyb2xsLWNhbGMnKS5vbignY2xpY2snLCBlID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAkKFtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIGRvY3VtZW50LmJvZHldKS5hbmltYXRlKHtcbiAgICBzY3JvbGxUb3A6ICQoJy5jYWxjJykub2Zmc2V0KCkudG9wIC0gJCgnLmhlYWRlcicpLmlubmVySGVpZ2h0KCkgLSAzMFxuICB9LCA1MDApO1xufSk7XG4gIGxldCBkZXBvc2l0ID0gMDtcbmxldCB0ZXJtID0gMDtcbmxldCBwcm9maXQgPSAwO1xuXG5jb25zdCBjYWxjdWxhdGUgPSAoKSA9PiB7XG4gIGNvbnN0IHZhbHVlID0gcGFyc2VJbnQoZGVwb3NpdCAqIChwcm9maXQgLyAxMDApICogMzAgKiB0ZXJtICsgZGVwb3NpdCk7XG4gICQoJy5jYWxjdWxhdG9yX190b3RhbCBzcGFuJykudGV4dCh2YWx1ZSk7XG59O1xuXG4kKCcuY2FsY3VsYXRvcl9faW5wdXQgaW5wdXQnKS5vbignaW5wdXQnLCBmdW5jdGlvbiAoKSB7XG4gIGlmICgkKHRoaXMpLmF0dHIoJ25hbWUnKSA9PT0gJ2RlcG9zaXQnKSB7XG4gICAgZGVwb3NpdCA9ICskKHRoaXMpLnZhbCgpO1xuICB9XG4gIGlmICgkKHRoaXMpLmF0dHIoJ25hbWUnKSA9PT0gJ3Rlcm0nKSB7XG4gICAgdGVybSA9ICskKHRoaXMpLnZhbCgpO1xuICB9XG5cbiAgY2FsY3VsYXRlKCk7XG59KTtcblxuJCgnLmpzLXJhbmdlJykuaW9uUmFuZ2VTbGlkZXIoe1xuICB0eXBlOiAnc2luZ2xlJyxcbiAgbWF4OiA1LFxuICBtaW46IDAsXG4gIHN0ZXA6IDAuMSxcbiAgb25DaGFuZ2U6IGRhdGEgPT4ge1xuICAgIGNvbnN0IHZhbCA9IGRhdGEuaW5wdXRbMF0udmFsdWU7XG4gICAgcHJvZml0ID0gK3ZhbDtcbiAgICBjYWxjdWxhdGUoKTtcblxuICAgICQoJy5pcnMtc2luZ2xlJykuc2hvdygpO1xuICAgICQoJy5jYWxjdWxhdG9yX19ncmlkLWl0ZW0nKS5tYXAoZWwgPT4ge1xuICAgICAgaWYgKCt2YWwgPj0gK2VsKSB7XG4gICAgICAgICQoYC5jYWxjdWxhdG9yX19ncmlkLWl0ZW06ZXEoJHtlbH0pYCkuYWRkQ2xhc3MoJ2NhbGN1bGF0b3JfX2dyaWQtaXRlbS0tY2hlY2snKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoYC5jYWxjdWxhdG9yX19ncmlkLWl0ZW06ZXEoJHtlbH0pYCkucmVtb3ZlQ2xhc3MoJ2NhbGN1bGF0b3JfX2dyaWQtaXRlbS0tY2hlY2snKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgb25GaW5pc2g6ICgpID0+IHtcbiAgICAkKCcuaXJzLXNpbmdsZScpLmhpZGUoKTtcbiAgfVxufSk7XG4gIGlmICgkKHdpbmRvdykuaW5uZXJXaWR0aCgpIDwgMTIwMCkge1xuICBjb25zdCBmZWVkYmFja1NsaWRlciA9IG5ldyBTd2lwZXIoJy5mZWVkYmFja19fZ3JpZCcsIHtcbiAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcbiAgICBzcGVlZDogNTAwLFxuICAgIHdyYXBwZXJDbGFzczogJ2ZlZWRiYWNrX19yb3cnLFxuICAgIHNsaWRlQ2xhc3M6ICdmZWVkYmFja19fdmlkZW8nLFxuICAgIHNwYWNlQmV0d2VlbjogMzAsXG4gICAgbG9vcDogdHJ1ZSxcbiAgICBwYWdpbmF0aW9uOiB7XG4gICAgICBlbDogJy5mZWVkYmFja19fcGFnaW5hdGlvbicsXG4gICAgICBjbGlja2FibGU6IHRydWUsXG4gICAgfVxuICB9KTtcbn1cbiAgaWYgKCQod2luZG93KS5pbm5lcldpZHRoKCkgPCAxMjAwKSB7XG4gIGNvbnN0IHNsaWRlciA9IG5ldyBTd2lwZXIoJy5zbGlkZXJfX2NvbnRhaW5lcicsIHtcbiAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcbiAgICBzcGVlZDogNTAwLFxuICAgIHdyYXBwZXJDbGFzczogJ3NsaWRlcl9fd3JhcHBlcicsXG4gICAgc2xpZGVDbGFzczogJ3NsaWRlcl9fc2xpZGUnLFxuICAgIGxvb3A6IHRydWUsXG4gICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICBwYWdpbmF0aW9uOiB7XG4gICAgICBlbDogJy5zbGlkZXJfX3BhZ2luYXRpb24nLFxuICAgICAgY2xpY2thYmxlOiB0cnVlLFxuICAgIH1cbiAgfSk7XG59IGVsc2Uge1xuICBjb25zdCBzbGlkZXIgPSBuZXcgU3dpcGVyKCcuc2xpZGVyX19jb250YWluZXInLCB7XG4gICAgZGlyZWN0aW9uOiAndmVydGljYWwnLFxuICAgIHNwZWVkOiA1MDAsXG4gICAgd3JhcHBlckNsYXNzOiAnc2xpZGVyX193cmFwcGVyJyxcbiAgICBzbGlkZUNsYXNzOiAnc2xpZGVyX19zbGlkZScsXG4gICAgbG9vcDogdHJ1ZSxcbiAgICBhdXRvcGxheToge1xuICAgICAgZGVsYXk6IDMwMDAsXG4gICAgICBkaXNhYmxlT25JbnRlcmFjdGlvbjogZmFsc2UsXG4gICAgfSxcbiAgICBwYWdpbmF0aW9uOiB7XG4gICAgICBlbDogJy5zbGlkZXJfX3BhZ2luYXRpb24nLFxuICAgICAgY2xpY2thYmxlOiB0cnVlLFxuICAgIH1cbiAgfSk7XG59XG4gICQoJy5mYXEtaXRlbV9faGVhZCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgJCh0aGlzKS50b2dnbGVDbGFzcygnZmFxLWl0ZW1fX2hlYWQtLW9wZW5lZCcpO1xuICAkKHRoaXMpLm5leHQoKS5zbGlkZVRvZ2dsZSgzMDApO1xufSk7XG5cbn1cbiJdfQ==
