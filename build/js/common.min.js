function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}window.onload=function(){var t=0;new WOW({boxClass:"js-wow"}).init();function e(e){e<1200?$('meta[name="viewport"]').attr("content","width=320"):$('meta[name="viewport"]').attr("content","width=device-width, initial-scale=1, user-scalable=no")}e($(window).innerWidth()),$(window).resize(function(){e($(window).innerWidth())}),particlesJS.load("why-particles","js/particles.json"),particlesJS.load("demo-particles","js/particles.json"),particlesJS.load("faq-particles","js/particles.json"),$(".js-play-video").on("click",function(){var e=$(this).attr("data-id");$(this).parent().hasClass("video--local")?$(this).parent().find("video").trigger("play"):$(this).parent().append('<iframe width="570" height="285" src="https://www.youtube.com/embed/'+e+'?autoplay=1" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen)>'),$(this).hide()}),$(document).ready(function(){var e=$(".video--local").attr("data-url");$(".video--local").append('<video width="570" height="285" controls="" class="embed-responsive-item" data-mp4="true" id="mautic-player-0">\n    <source src='+e+' type="video/mp4">\n  </video>')}),$(".input__field").on("focus",function(){$(this).parent().addClass("input--focused")}).on("blur",function(){$(this).parent().removeClass("input--focused")}),$(".input__field").on("change",function(){""!==$(this).val()?$(this).parent().addClass("input--filled"):$(this).parent().removeClass("input--filled")}),$(".input--tel .input__field").inputmask("8 999 999 99 99"),$(".input--tel .input__field").on("input",function(){var e=$(this).val();""===e||/_/g.test(e)?$(this).siblings(".js-send-tel").attr("disabled","disabled"):$(this).siblings(".js-send-tel").removeAttr("disabled")}),$(".input--code .input__field").inputmask("9999");function i(){o.map(function(e){e.offset().top<=window.scrollY+$(".header").innerHeight()+30&&($(".header__link--current").removeClass("header__link--current"),$(".header__link[data-scroll="+e[0].classList[0]+"]").addClass("header__link--current"))})}function a(){window.scrollY<50?$(".header").removeClass("header--bg"):$(".header").addClass("header--bg")}var o=[$(".page-wrapper"),$(".why"),$(".about"),$(".faq")];a(),i();var n,l=(n=0,function(e,t){clearTimeout(n),n=setTimeout(e,t)});$(window).on("scroll",function(){l(i,300),window.scrollY<window.innerHeight&&$(".hero").css("transform","translateY("+-window.scrollY/5+"px)"),a()});var r=!1;$(".js-scrollto").on("click",function(e){e.preventDefault(),$("body").css({position:"static","margin-top":"0"}),r=!1,$(".header__burger").removeClass("header__burger--active"),$(".header__mobile").removeClass("header__mobile--active"),$([document.documentElement,document.body]).animate({scrollTop:$("."+$(this).attr("data-scroll")).offset().top-$(".header").innerHeight()},500)}),$(".header__burger").on("click",function(){$(this).toggleClass("header__burger--active"),$(".header__mobile").toggleClass("header__mobile--active"),(r=!r)?(t=window.scrollY,$("body").css({position:"fixed","margin-top":-t})):($("body").css({position:"static","margin-top":"0"}),window.scrollTo(0,t))}),$(".js-scroll-calc").on("click",function(e){e.preventDefault(),$([document.documentElement,document.body]).animate({scrollTop:$(".calc").offset().top-$(".header").innerHeight()-30},500)}),$(".hero__play").on("click",function(){t=window.scrollY,$("body").css({position:"fixed","margin-top":-t}),$(".hero-popup__window").append('<iframe width="100%" height="100%" src="https://www.youtube.com/embed/ovUMVVgMaDU?autoplay=1" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen)>'),$(".hero-popup").fadeIn(300)}),$(".hero-popup__close").on("click",function(){$("body").css({position:"static","margin-top":"0"}),window.scrollTo(0,t),$(".hero-popup").fadeOut(300),$(".hero-popup iframe").remove()});function s(e,t,i,a,o){var n=4<arguments.length&&void 0!==o&&o,l=t,r=i-t,s=r/a,c=Math.abs(Math.floor(a/r)),d=setInterval(function(){l+=s,$(e).text(n?"0,"+Math.floor(l).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+"%":Math.floor(l).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")),Math.floor(l)==i&&clearInterval(d)},c)}var c=!1,d=!1;$(window).on("scroll",function(){var e=$(".calc__chart").offset().top,t=window.scrollY+window.innerHeight;e<=t&&window.scrollY-window.innerHeight/1.5<=e+window.innerHeight/1.5&&$(".calc__chart").css("width",t-(e+window.innerHeight/1.5)+"vw"),!c&&t-50>=$(".calculator__total span").offset().top&&(s(".calculator__total span",1e5,0,22),c=!0),!d&&t-50>=$(".calc__stats-col").offset().top&&(s(".calc__stats-col:nth-child(1) .calc__stats-head",0,33,33,!0),s(".calc__stats-col:nth-child(2) .calc__stats-head",0,1789,20),s(".calc__stats-col:nth-child(3) .calc__stats-head",0,1165,20),d=!0)}),new AutoNumeric('.calculator__input [name="deposit"]',{aSep:" ",decimalPlaces:0}),new AutoNumeric('.calculator__input [name="term"]',{aSep:" ",decimalPlaces:0});function p(){var e=parseInt(u*(h/100)*30*_+u);$(".calculator__total span").text(e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "))}var u=0,_=0,h=0;if($(".calculator__input input").on("input",function(){"deposit"===$(this).attr("name")&&(u=+$(this).val().replace(/ /g,"")),"term"===$(this).attr("name")&&(_=+$(this).val().replace(/ /g,"")),p()}),$(".js-range").ionRangeSlider({type:"single",max:5,min:0,from:2.5,step:.1,onChange:function(e){var t=e.input[0].value;h=+t,p(),$(".irs-single").show(),$(".calculator__grid-item").map(function(e){+e<=+t?$(".calculator__grid-item:eq("+e+")").addClass("calculator__grid-item--check"):$(".calculator__grid-item:eq("+e+")").removeClass("calculator__grid-item--check")})},onFinish:function(){$(".irs-single").hide()}}),$(window).innerWidth()<1200)new Swiper(".feedback__grid",{direction:"horizontal",speed:500,wrapperClass:"feedback__row",slideClass:"feedback__video",spaceBetween:30,loop:!0,pagination:{el:".feedback__pagination",clickable:!0}});if($(window).innerWidth()<1200){var f;new Swiper(".slider__container",(_defineProperty(f={direction:"horizontal",speed:500,wrapperClass:"slider__wrapper",slideClass:"slider__slide",spaceBetween:30,loop:!0},"spaceBetween",30),_defineProperty(f,"pagination",{el:".slider__pagination",clickable:!0}),f))}else new Swiper(".slider__container",{direction:"vertical",speed:500,wrapperClass:"slider__wrapper",slideClass:"slider__slide",spaceBetween:30,loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},pagination:{el:".slider__pagination",clickable:!0}});$(".faq-item__head").on("click",function(){$(this).hasClass("faq-item__head--opened")?$(this).removeClass("faq-item__head--opened"):($(".faq-item__head--opened").next().slideUp(300),$(".faq-item__head--opened").removeClass("faq-item__head--opened"),$(this).addClass("faq-item__head--opened")),$(this).next().slideToggle(300)}),$(".js-open-popup").on("click",function(e){e.preventDefault(),t=window.scrollY,$("body").css({position:"fixed","margin-top":-t}),$(".popup").fadeIn(300)}),$(".popup__close").on("click",function(){$("body").css({position:"static","margin-top":"0"}),window.scrollTo(0,t),$(".popup").fadeOut(300)}),$(".js-send-tel").on("click",function(e){e.preventDefault(),$(this).attr("disabled","disabled"),$(this).siblings(".input__field").attr("disabled","disabled"),$(".popup__code input").removeAttr("disabled"),$(".js-send-form").removeAttr("disabled")})};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJvbmxvYWQiLCJzY3JvbGwiLCJXT1ciLCJib3hDbGFzcyIsImluaXQiLCJ3aWR0aCIsIiQiLCJzZXRSZXNwb25zaXZlIiwiYXR0ciIsImlubmVyV2lkdGgiLCJyZXNpemUiLCJwYXJ0aWNsZXNKUyIsImxvYWQiLCJvbiIsIklEIiwidGhpcyIsInBhcmVudCIsInRyaWdnZXIiLCJhcHBlbmQiLCJoaWRlIiwiZG9jdW1lbnQiLCJyZWFkeSIsIlVSTCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJ2YWwiLCJpbnB1dG1hc2siLCJ0ZXN0Iiwic2libGluZ3MiLCJyZW1vdmVBdHRyIiwic2V0TGlua3MiLCJzZWN0aW9ucyIsIm1hcCIsImVsIiwib2Zmc2V0IiwidG9wIiwidG9wT2Zmc2V0IiwiaW5uZXJIZWlnaHQiLCJjbGFzc0xpc3QiLCJzZXRIZWFkZXIiLCJ0aW1lciIsImRlYm91bmNlIiwiY2FsbGJhY2siLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwibXMiLCJjc3MiLCJzY3JvbGxZIiwiaGVhZGVyTW9iaWxlU2hvd24iLCJlIiwicHJldmVudERlZmF1bHQiLCJwb3NpdGlvbiIsIm1hcmdpbi10b3AiLCJzY3JvbGxUb3AiLCJib2R5IiwiYW5pbWF0ZSIsInRvZ2dsZUNsYXNzIiwic2Nyb2xsVG8iLCJmYWRlSW4iLCJmYWRlT3V0IiwicmVtb3ZlIiwiYW5pbWF0ZVZhbHVlIiwic2VsZWN0b3IiLCJzdGFydCIsImVuZCIsImR1cmF0aW9uIiwicGVyY2VudCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImN1cnJlbnQiLCJyYW5nZSIsImluY3JlbWVudCIsImZsb29yIiwic3RlcFRpbWUiLCJNYXRoIiwic2V0SW50ZXJ2YWwiLCJ0b1N0cmluZyIsInJlcGxhY2UiLCJ0ZXh0IiwiZGVwb3NpdElzQW5pbWF0ZWQiLCJzdGF0c0FyZUFuaW1hdGVkIiwiY2hhcnRUb3AiLCJzY3JvbGxXaXRoV2luZG93IiwiQXV0b051bWVyaWMiLCJhU2VwIiwiY2FsY3VsYXRlIiwiZGVwb3NpdCIsInByb2ZpdCIsInRlcm0iLCJpb25SYW5nZVNsaWRlciIsInR5cGUiLCJtYXgiLCJtaW4iLCJmcm9tIiwic3RlcCIsImRhdGEiLCJvbkNoYW5nZSIsImlucHV0IiwidmFsdWUiLCJzaG93Iiwib25GaW5pc2giLCJTd2lwZXIiLCJkaXJlY3Rpb24iLCJmZWVkYmFja1NsaWRlciIsInNwZWVkIiwid3JhcHBlckNsYXNzIiwic2xpZGVDbGFzcyIsInNwYWNlQmV0d2VlbiIsImxvb3AiLCJwYWdpbmF0aW9uIiwiX3JlZiIsImNsaWNrYWJsZSIsInNsaWRlciIsImF1dG9wbGF5IiwiZGVsYXkiLCJoYXNDbGFzcyIsIm5leHQiLCJzbGlkZVVwIiwic2xpZGVUb2dnbGUiXSwibWFwcGluZ3MiOiJzSUFBQUEsT0FBT0MsT0FBUyxXQUFoQkQsSUFBQUEsRUFBQSxFQUVNRSxJQUFZQyxJQUFBLENBR2hCQyxTQUFVLFdBRFZDLE9BSUYsU0FBSUEsRUFBSkMsR0FDRUEsRUFBQSxLQUNGQyxFQUFNQyx5QkFBQUEsS0FBQUEsVUFBZ0IsYUFFbEJELEVBQUFBLHlCQUFBRSxLQUEyQkEsVUFBM0IseURBT0pELEVBQWNELEVBQUVQLFFBQVFVLGNBR3hCSCxFQUFFUCxRQUFRVyxPQUFPLFdBRGpCSCxFQUFBRCxFQUFBUCxRQUFBVSxnQkFHQ0UsWUFGREMsS0FBQSxnQkFBQSxxQkFHRUQsWUFBQUMsS0FBQSxpQkFBQSxxQkFDRkQsWUFBQUEsS0FBWUMsZ0JBQVoscUJBS0FOLEVBQUUsa0JBQWtCTyxHQUFHLFFBQVMsV0FEOUIsSUFBQUMsRUFBQVIsRUFBQVMsTUFBQVAsS0FBQSxXQUNBRixFQUFBUyxNQUFBQyxTQUFrQkgsU0FBcEIsZ0JBQ0VQLEVBQUFTLE1BQU1ELFNBQWFOLEtBQUssU0FBYlMsUUFBWCxRQUVFWCxFQUFBQSxNQUFBVSxTQUFBRSxPQUFBWix1RUFBQVEsRUFBQVIsa0lBRUFBLEVBQUFBLE1BQUVhLFNBTU5iLEVB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T0FBQUMsUUFBQSxLQUNMaEgsRUFBQUEsMkJBQUFrQixZQUFvQzhGLDBCQUNwQ2hILEVBQUFBLE1BQUVpQixTQUFBLDJCQUVIakIsRUFBQVMsTUFBQXNHLE9BQUFFLFlBQUEsT0FHRGpILEVBQUEsa0JBQUFPLEdBQUEsUUFBQSxTQUFBb0MsR0FDRjNDLEVBQUU0QyxpQkFHQWpELEVBQVNGLE9BQU9nRCxRQUVoQnpDLEVBQUUsUUFBUXdDLElBQUksQ0FBZHhDLFNBQVV3QyxRQUNSTSxjQUFZbkQsSUFJZEssRUFBRSxVQUFVb0QsT0FBTyxPQUdyQnBELEVBQUEsaUJBQUFPLEdBQUEsUUFBQSxXQUNBUCxFQUFFLFFBQUF3QyxJQUFBLENBQ0F4QyxTQUFVd0MsU0FDUk0sYUFBWSxNQUlkckQsT0FBTzBELFNBQVMsRUFBR3hELEdBRW5CSyxFQUFFLFVBQVVxRCxRQUFRLE9BR3RCckQsRUFBQSxnQkFBQU8sR0FBQSxRQUFBLFNBQUFvQyxHQUNBM0MsRUFBRTRDLGlCQUdBNUMsRUFBRVMsTUFBTVAsS0FBSyxXQUFZLFlBQXpCRixFQUFBQSxNQUFBc0IsU0FBYSxpQkFBWXBCLEtBQXpCLFdBQUEsWUFDQUYsRUFBQUEsc0JBQWlCdUIsV0FBakIsWUFDQXZCLEVBQUFBLGlCQUFFdUIsV0FBc0JBIiwiZmlsZSI6ImNvbW1vbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cub25sb2FkID0gKCkgPT4ge1xuXG4gIGxldCBzY3JvbGwgPSAwOyAvLyBoZWFkZXIsIGhlcm8sIHBvcHVwXG5cbiAgY29uc3Qgd293ID0gbmV3IFdPVyh7XG4gIGJveENsYXNzOiAnanMtd293J1xufSk7XG5cbndvdy5pbml0KCk7XG4gIC8vIHNldHRpbmcgdmlld3BvcnQgbWV0YSB0YWdcbmNvbnN0IHNldFJlc3BvbnNpdmUgPSB3aWR0aCA9PiB7XG4gIGlmICh3aWR0aCA8IDEyMDApIHtcbiAgICAkKCdtZXRhW25hbWU9XCJ2aWV3cG9ydFwiXScpLmF0dHIoJ2NvbnRlbnQnLCAnd2lkdGg9MzIwJyk7XG4gIH0gZWxzZSB7XG4gICAgJCgnbWV0YVtuYW1lPVwidmlld3BvcnRcIl0nKS5hdHRyKCdjb250ZW50JywgJ3dpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLCB1c2VyLXNjYWxhYmxlPW5vJyk7XG4gIH1cbn07XG5cbi8vIHNldCBvbmNlIHBhZ2UgaXMgbG9hZGVkXG5zZXRSZXNwb25zaXZlKCQod2luZG93KS5pbm5lcldpZHRoKCkpO1xuXG4vLyBzZXQgb24gcmVzaXplXG4kKHdpbmRvdykucmVzaXplKCgpID0+IHtcbiAgc2V0UmVzcG9uc2l2ZSgkKHdpbmRvdykuaW5uZXJXaWR0aCgpKTtcbn0pO1xuICAvLyBsb2FkIHBhcnRpY2xlcyBkYXRhIGZvciBhbmltYXRlZCBzZWN0aW9uc1xucGFydGljbGVzSlMubG9hZCgnd2h5LXBhcnRpY2xlcycsICdqcy9wYXJ0aWNsZXMuanNvbicpO1xucGFydGljbGVzSlMubG9hZCgnZGVtby1wYXJ0aWNsZXMnLCAnanMvcGFydGljbGVzLmpzb24nKTtcbnBhcnRpY2xlc0pTLmxvYWQoJ2ZhcS1wYXJ0aWNsZXMnLCAnanMvcGFydGljbGVzLmpzb24nKTtcblxuICAvLyBzaG93IHlvdXR1YmUgdmlkZW8gcGxheWVyXG4kKCcuanMtcGxheS12aWRlbycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgSUQgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtaWQnKVxuICBpZiAoJCh0aGlzKS5wYXJlbnQoKS5oYXNDbGFzcygndmlkZW8tLWxvY2FsJykpIHtcbiAgICAkKHRoaXMpLnBhcmVudCgpLmZpbmQoJ3ZpZGVvJykudHJpZ2dlcigncGxheScpO1xuICB9IGVsc2Uge1xuICAgICQodGhpcykucGFyZW50KCkuYXBwZW5kKGA8aWZyYW1lIHdpZHRoPVwiNTcwXCIgaGVpZ2h0PVwiMjg1XCIgc3JjPVwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvJHtJRH0/YXV0b3BsYXk9MVwiIGZyYW1lYm9yZGVyPVwiMFwiIGFsbG93PVwiYWNjZWxlcm9tZXRlcjsgYXV0b3BsYXk7IGVuY3J5cHRlZC1tZWRpYTsgZ3lyb3Njb3BlOyBwaWN0dXJlLWluLXBpY3R1cmVcIiBhbGxvd2Z1bGxzY3JlZW4pPmApO1xuICB9XG4gICQodGhpcykuaGlkZSgpO1xufSk7XG5cbi8vIGxvYWQgbG9jYWwgdmlkZW9cbiQoZG9jdW1lbnQpLnJlYWR5KCgpID0+IHtcbiAgY29uc3QgVVJMID0gJCgnLnZpZGVvLS1sb2NhbCcpLmF0dHIoJ2RhdGEtdXJsJyk7XG4gICQoJy52aWRlby0tbG9jYWwnKS5hcHBlbmQoYDx2aWRlbyB3aWR0aD1cIjU3MFwiIGhlaWdodD1cIjI4NVwiIGNvbnRyb2xzPVwiXCIgY2xhc3M9XCJlbWJlZC1yZXNwb25zaXZlLWl0ZW1cIiBkYXRhLW1wND1cInRydWVcIiBpZD1cIm1hdXRpYy1wbGF5ZXItMFwiPlxuICAgIDxzb3VyY2Ugc3JjPSR7VVJMfSB0eXBlPVwidmlkZW8vbXA0XCI+XG4gIDwvdmlkZW8+YCk7XG59KTtcbiAgLy8gc2V0IGlucHV0IGZvY3VzIHN0eWxlc1xuJCgnLmlucHV0X19maWVsZCcpLm9uKCdmb2N1cycsIGZ1bmN0aW9uICgpIHtcbiAgJCh0aGlzKS5wYXJlbnQoKS5hZGRDbGFzcygnaW5wdXQtLWZvY3VzZWQnKTtcbn0pLm9uKCdibHVyJywgZnVuY3Rpb24gKCkge1xuICAkKHRoaXMpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdpbnB1dC0tZm9jdXNlZCcpO1xufSk7XG5cbi8vIHNldCBpbnB1dCBmaWxsZWQgc3R5bGVzXG4kKCcuaW5wdXRfX2ZpZWxkJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgJCh0aGlzKS52YWwoKSAhPT0gJycgPyAkKHRoaXMpLnBhcmVudCgpLmFkZENsYXNzKCdpbnB1dC0tZmlsbGVkJykgOiAkKHRoaXMpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdpbnB1dC0tZmlsbGVkJyk7XG59KTtcblxuLy8gYXBwbHkgbWFzayB0byBwaG9uZSBpbnB1dHNcbiQoJy5pbnB1dC0tdGVsIC5pbnB1dF9fZmllbGQnKS5pbnB1dG1hc2soJzggOTk5IDk5OSA5OSA5OScpO1xuXG4vLyBzaG93L2hpZGUgc2VuZCBjb2RlIGJ1dHRvbiBkZXBwZW5kaW5nIG9uIHBob25lIGlucHV0IHZhbHVlXG4kKCcuaW5wdXQtLXRlbCAuaW5wdXRfX2ZpZWxkJykub24oJ2lucHV0JywgZnVuY3Rpb24gKCkge1xuICBjb25zdCB2YWwgPSAkKHRoaXMpLnZhbCgpO1xuICBcbiAgaWYgKHZhbCAhPT0gJycgJiYgIS9fL2cudGVzdCh2YWwpKSB7XG4gICAgJCh0aGlzKS5zaWJsaW5ncygnLmpzLXNlbmQtdGVsJykucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgfSBlbHNlIHtcbiAgICAkKHRoaXMpLnNpYmxpbmdzKCcuanMtc2VuZC10ZWwnKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICB9XG59KTtcblxuLy8gYXBwbHkgbWFzayB0byBjb2RlIGlucHV0c1xuJCgnLmlucHV0LS1jb2RlIC5pbnB1dF9fZmllbGQnKS5pbnB1dG1hc2soJzk5OTknKTtcblxuICAvLyBzZXQgc2VjdGlvbnMgbWVudGlvbmVkIGluIGhlYWRlclxuY29uc3Qgc2VjdGlvbnMgPSBbJCgnLnBhZ2Utd3JhcHBlcicpLCAkKCcud2h5JyksICQoJy5hYm91dCcpLCAkKCcuZmFxJyldO1xuXG4vLyBzZXQgY3VycmVudCBzZWN0aW9uXG5jb25zdCBzZXRMaW5rcyA9ICgpID0+IHtcbiAgc2VjdGlvbnMubWFwKGVsID0+IHtcbiAgICBjb25zdCB0b3BPZmZzZXQgPSBlbC5vZmZzZXQoKS50b3A7XG4gICAgaWYgKHRvcE9mZnNldCA8PSB3aW5kb3cuc2Nyb2xsWSArICQoJy5oZWFkZXInKS5pbm5lckhlaWdodCgpICsgMzApIHtcbiAgICAgICQoJy5oZWFkZXJfX2xpbmstLWN1cnJlbnQnKS5yZW1vdmVDbGFzcygnaGVhZGVyX19saW5rLS1jdXJyZW50Jyk7XG4gICAgICAkKGAuaGVhZGVyX19saW5rW2RhdGEtc2Nyb2xsPSR7ZWxbMF0uY2xhc3NMaXN0WzBdfV1gKS5hZGRDbGFzcygnaGVhZGVyX19saW5rLS1jdXJyZW50Jyk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8vIHNldCBoZWFkZXIgYmFja2dyb3VuZFxuY29uc3Qgc2V0SGVhZGVyID0gKCkgPT4ge1xuICBpZiAod2luZG93LnNjcm9sbFkgPCA1MCkge1xuICAgICQoJy5oZWFkZXInKS5yZW1vdmVDbGFzcygnaGVhZGVyLS1iZycpO1xuICB9IGVsc2Uge1xuICAgICQoJy5oZWFkZXInKS5hZGRDbGFzcygnaGVhZGVyLS1iZycpO1xuICB9XG59O1xuXG4vLyBzZXQgaGVybyBzZWN0aW9uIHBhcmFsbGF4XG5jb25zdCBzZXRIZXJvID0gKCkgPT4ge1xuICBpZiAod2luZG93LnNjcm9sbFkgPCB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcbiAgICAkKCcuaGVybycpLmNzcygndHJhbnNmb3JtJywgYHRyYW5zbGF0ZVkoJHstd2luZG93LnNjcm9sbFkgLyA1fXB4KWApXG4gIH1cbn07XG5cbi8vIHNldCBvbmNlIHBhZ2UgaXMgbG9hZGVkXG5zZXRIZWFkZXIoKTtcbnNldExpbmtzKCk7XG5cbi8vIGZ1bmN0aW9uIGNhbGwgZnJlcXVlbmN5IGxhdGVuY3kgZm9yIGJldHRlciBwZXJmb21hbmNlXG5jb25zdCBkZWJvdW5jZSA9IChmdW5jdGlvbigpe1xuICB2YXIgdGltZXIgPSAwO1xuICByZXR1cm4gZnVuY3Rpb24oY2FsbGJhY2ssIG1zKXtcbiAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgIHRpbWVyID0gc2V0VGltZW91dChjYWxsYmFjaywgbXMpO1xuICB9O1xufSkoKTtcblxuLy8gc2V0IG9uIHBhZ2Ugc2Nyb2xsXG4kKHdpbmRvdykub24oJ3Njcm9sbCcsICgpID0+IHtcbiAgZGVib3VuY2Uoc2V0TGlua3MsIDMwMCk7XG5cbiAgc2V0SGVybygpO1xuXG4gIHNldEhlYWRlcigpO1xufSk7XG5cblxubGV0IGhlYWRlck1vYmlsZVNob3duID0gZmFsc2U7XG5cbi8vIHNjcm9sbCB0byBzcGVjaWZpYyBzZWN0aW9uXG4kKCcuanMtc2Nyb2xsdG8nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgJCgnYm9keScpLmNzcyh7XG4gICAgJ3Bvc2l0aW9uJzogJ3N0YXRpYycsXG4gICAgJ21hcmdpbi10b3AnOiAnMCdcbiAgfSk7XG5cbiAgaGVhZGVyTW9iaWxlU2hvd24gPSBmYWxzZTtcblxuICAkKCcuaGVhZGVyX19idXJnZXInKS5yZW1vdmVDbGFzcygnaGVhZGVyX19idXJnZXItLWFjdGl2ZScpO1xuICAkKCcuaGVhZGVyX19tb2JpbGUnKS5yZW1vdmVDbGFzcygnaGVhZGVyX19tb2JpbGUtLWFjdGl2ZScpO1xuXG4gICQoW2RvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgZG9jdW1lbnQuYm9keV0pLmFuaW1hdGUoe1xuICAgIHNjcm9sbFRvcDogJChgLiR7JCh0aGlzKS5hdHRyKCdkYXRhLXNjcm9sbCcpfWApLm9mZnNldCgpLnRvcCAtICQoJy5oZWFkZXInKS5pbm5lckhlaWdodCgpXG4gIH0sIDUwMCk7XG59KTtcblxuLy8gaGFuZGxpbmcgbW9iaWxlIG1lbnVcbiQoJy5oZWFkZXJfX2J1cmdlcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgJCh0aGlzKS50b2dnbGVDbGFzcygnaGVhZGVyX19idXJnZXItLWFjdGl2ZScpO1xuICAkKCcuaGVhZGVyX19tb2JpbGUnKS50b2dnbGVDbGFzcygnaGVhZGVyX19tb2JpbGUtLWFjdGl2ZScpO1xuXG4gIGhlYWRlck1vYmlsZVNob3duID0gIWhlYWRlck1vYmlsZVNob3duO1xuXG4gIGlmIChoZWFkZXJNb2JpbGVTaG93bikge1xuICAgIHNjcm9sbCA9IHdpbmRvdy5zY3JvbGxZO1xuICAgICQoJ2JvZHknKS5jc3Moe1xuICAgICAgJ3Bvc2l0aW9uJzogJ2ZpeGVkJyxcbiAgICAgICdtYXJnaW4tdG9wJzogLXNjcm9sbFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgICQoJ2JvZHknKS5jc3Moe1xuICAgICAgJ3Bvc2l0aW9uJzogJ3N0YXRpYycsXG4gICAgICAnbWFyZ2luLXRvcCc6ICcwJ1xuICAgIH0pO1xuXG4gICAgd2luZG93LnNjcm9sbFRvKDAsIHNjcm9sbCk7XG4gIH1cbn0pO1xuICAvLyBzY3JvbGwgdG8gY2FsYyBzZWN0aW9uXG4kKCcuanMtc2Nyb2xsLWNhbGMnKS5vbignY2xpY2snLCBlID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAkKFtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIGRvY3VtZW50LmJvZHldKS5hbmltYXRlKHtcbiAgICBzY3JvbGxUb3A6ICQoJy5jYWxjJykub2Zmc2V0KCkudG9wIC0gJCgnLmhlYWRlcicpLmlubmVySGVpZ2h0KCkgLSAzMFxuICB9LCA1MDApO1xufSk7XG5cbi8vIHRvZ2dsZSBoZXJvIHZpZGVvIHBvcHVwXG4kKCcuaGVyb19fcGxheScpLm9uKCdjbGljaycsICgpID0+IHtcbiAgc2Nyb2xsID0gd2luZG93LnNjcm9sbFk7XG5cbiAgJCgnYm9keScpLmNzcyh7XG4gICAgJ3Bvc2l0aW9uJzogJ2ZpeGVkJyxcbiAgICAnbWFyZ2luLXRvcCc6IC1zY3JvbGxcbiAgfSk7XG5cbiAgJCgnLmhlcm8tcG9wdXBfX3dpbmRvdycpLmFwcGVuZCgnPGlmcmFtZSB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCIgc3JjPVwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvb3ZVTVZWZ01hRFU/YXV0b3BsYXk9MVwiIGZyYW1lYm9yZGVyPVwiMFwiIGFsbG93PVwiYWNjZWxlcm9tZXRlcjsgYXV0b3BsYXk7IGVuY3J5cHRlZC1tZWRpYTsgZ3lyb3Njb3BlOyBwaWN0dXJlLWluLXBpY3R1cmVcIiBhbGxvd2Z1bGxzY3JlZW4pPicpXG4gICQoJy5oZXJvLXBvcHVwJykuZmFkZUluKDMwMCk7XG59KTtcblxuLy8gY2xvc2UgaGVybyB2aWRlbyBwb3B1cFxuJCgnLmhlcm8tcG9wdXBfX2Nsb3NlJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAkKCdib2R5JykuY3NzKHtcbiAgICAncG9zaXRpb24nOiAnc3RhdGljJyxcbiAgICAnbWFyZ2luLXRvcCc6ICcwJ1xuICB9KTtcblxuICB3aW5kb3cuc2Nyb2xsVG8oMCwgc2Nyb2xsKTtcblxuICAkKCcuaGVyby1wb3B1cCcpLmZhZGVPdXQoMzAwKTtcbiAgJCgnLmhlcm8tcG9wdXAgaWZyYW1lJykucmVtb3ZlKCk7XG59KTtcbiAgLy8gbnVtYmVyIGFuaW1hdGlvbiBmdW5jdGlvblxuY29uc3QgYW5pbWF0ZVZhbHVlID0gKHNlbGVjdG9yLCBzdGFydCwgZW5kLCBkdXJhdGlvbiwgcGVyY2VudCA9IGZhbHNlKSA9PiB7XG4gIGxldCBjdXJyZW50ID0gc3RhcnQ7XG4gIGNvbnN0IHJhbmdlID0gZW5kIC0gc3RhcnQ7XG4gIGNvbnN0IGluY3JlbWVudCA9IGVuZCA+IHN0YXJ0ID8gKHJhbmdlIC8gZHVyYXRpb24pIDogKHJhbmdlIC8gZHVyYXRpb24pO1xuICBjb25zdCBzdGVwVGltZSA9IE1hdGguYWJzKE1hdGguZmxvb3IoZHVyYXRpb24gLyByYW5nZSkpO1xuICBjb25zdCB0aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgY3VycmVudCArPSBpbmNyZW1lbnQ7XG4gICAgICAkKHNlbGVjdG9yKS50ZXh0KHBlcmNlbnQgPyAnMCwnICsgTWF0aC5mbG9vcihjdXJyZW50KS50b1N0cmluZygpLnJlcGxhY2UoL1xcQig/PShcXGR7M30pKyg/IVxcZCkpL2csIFwiIFwiKSArICclJyA6IE1hdGguZmxvb3IoY3VycmVudCkudG9TdHJpbmcoKS5yZXBsYWNlKC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLCBcIiBcIikpO1xuICAgICAgaWYgKE1hdGguZmxvb3IoY3VycmVudCkgPT0gZW5kKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7XG4gICAgICB9XG4gIH0sIHN0ZXBUaW1lKTtcbn07XG5cbi8vIHNldCB3aGV0aGVyIHNwZWNpZmljICBpdGVtcyBhcmUgYWxyZWFkeSBhbmltYXRlZFxubGV0IGRlcG9zaXRJc0FuaW1hdGVkID0gZmFsc2U7XG5sZXQgc3RhdHNBcmVBbmltYXRlZCA9IGZhbHNlO1xuXG4kKHdpbmRvdykub24oJ3Njcm9sbCcsICgpID0+IHtcbiAgLy8gYW5pbWF0ZSBjaGFydCBhcHBlYXJpbmcgd2hpbGUgc2Nyb2xsaW5nXG4gIGNvbnN0IGNoYXJ0VG9wID0gJCgnLmNhbGNfX2NoYXJ0Jykub2Zmc2V0KCkudG9wO1xuICBjb25zdCBzY3JvbGxXaXRoV2luZG93ID0gd2luZG93LnNjcm9sbFkgKyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gIGlmIChzY3JvbGxXaXRoV2luZG93ID49IGNoYXJ0VG9wICYmIHdpbmRvdy5zY3JvbGxZIC0gd2luZG93LmlubmVySGVpZ2h0IC8gMS41IDw9IGNoYXJ0VG9wICsgd2luZG93LmlubmVySGVpZ2h0IC8gMS41KSB7XG4gICAgJCgnLmNhbGNfX2NoYXJ0JykuY3NzKCd3aWR0aCcsICgoc2Nyb2xsV2l0aFdpbmRvdykgLSAoY2hhcnRUb3AgKyB3aW5kb3cuaW5uZXJIZWlnaHQgLyAxLjUpKSArICd2dycpXG4gIH1cblxuICAvLyBhbmltYXRlIGl0ZW1zIHdoZW4gdXNlciBzY3JvbGxlZCB0byB0aGVtXG4gIGlmICghZGVwb3NpdElzQW5pbWF0ZWQgJiYgc2Nyb2xsV2l0aFdpbmRvdyAtIDUwID49ICQoJy5jYWxjdWxhdG9yX190b3RhbCBzcGFuJykub2Zmc2V0KCkudG9wKSB7XG4gICAgYW5pbWF0ZVZhbHVlKCcuY2FsY3VsYXRvcl9fdG90YWwgc3BhbicsIDEwMDAwMCwgMCwgMjIpO1xuICAgIGRlcG9zaXRJc0FuaW1hdGVkID0gdHJ1ZTtcbiAgfVxuICBcbiAgaWYgKCFzdGF0c0FyZUFuaW1hdGVkICYmIHNjcm9sbFdpdGhXaW5kb3cgLSA1MCA+PSAkKCcuY2FsY19fc3RhdHMtY29sJykub2Zmc2V0KCkudG9wKSB7XG4gICAgYW5pbWF0ZVZhbHVlKCcuY2FsY19fc3RhdHMtY29sOm50aC1jaGlsZCgxKSAuY2FsY19fc3RhdHMtaGVhZCcsIDAsIDMzLCAzMywgdHJ1ZSk7XG4gICAgYW5pbWF0ZVZhbHVlKCcuY2FsY19fc3RhdHMtY29sOm50aC1jaGlsZCgyKSAuY2FsY19fc3RhdHMtaGVhZCcsIDAsIDE3ODksIDIwKTtcbiAgICBhbmltYXRlVmFsdWUoJy5jYWxjX19zdGF0cy1jb2w6bnRoLWNoaWxkKDMpIC5jYWxjX19zdGF0cy1oZWFkJywgMCwgMTE2NSwgMjApO1xuICAgIHN0YXRzQXJlQW5pbWF0ZWQgPSB0cnVlO1xuICB9XG59KTtcbiAgLy8gbWFzayBmb3IgZGVwb3NpdCBpbnB1dFxubmV3IEF1dG9OdW1lcmljKCcuY2FsY3VsYXRvcl9faW5wdXQgW25hbWU9XCJkZXBvc2l0XCJdJywge1xuICBhU2VwOiAnICcsXG4gIGRlY2ltYWxQbGFjZXM6IDBcbn0pO1xuXG4vLyBtYXNrIGZvciB0ZXJtIGlucHV0XG5uZXcgQXV0b051bWVyaWMoJy5jYWxjdWxhdG9yX19pbnB1dCBbbmFtZT1cInRlcm1cIl0nLCB7XG4gIGFTZXA6ICcgJyxcbiAgZGVjaW1hbFBsYWNlczogMFxufSk7XG5cbmxldCBkZXBvc2l0ID0gMDtcbmxldCB0ZXJtID0gMDtcbmxldCBwcm9maXQgPSAwO1xuXG4vLyBjYWxjdWxhdGUgdG90YWwgZGVwb3NpdFxuY29uc3QgY2FsY3VsYXRlID0gKCkgPT4ge1xuICBjb25zdCB2YWx1ZSA9IHBhcnNlSW50KGRlcG9zaXQgKiAocHJvZml0IC8gMTAwKSAqIDMwICogdGVybSArIGRlcG9zaXQpO1xuICAkKCcuY2FsY3VsYXRvcl9fdG90YWwgc3BhbicpLnRleHQodmFsdWUudG9TdHJpbmcoKS5yZXBsYWNlKC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLCBcIiBcIikpO1xufTtcblxuLy8gcmVjYWxjdWxhdGUgdG90YWwgZGVwb3NpdCB3aGVuIHVzZXIgY2hhbmdlIGRhdGFcbiQoJy5jYWxjdWxhdG9yX19pbnB1dCBpbnB1dCcpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcbiAgaWYgKCQodGhpcykuYXR0cignbmFtZScpID09PSAnZGVwb3NpdCcpIHtcbiAgICBkZXBvc2l0ID0gKyQodGhpcykudmFsKCkucmVwbGFjZSgvIC9nLCAnJyk7XG4gIH1cbiAgaWYgKCQodGhpcykuYXR0cignbmFtZScpID09PSAndGVybScpIHtcbiAgICB0ZXJtID0gKyQodGhpcykudmFsKCkucmVwbGFjZSgvIC9nLCAnJyk7XG4gIH1cblxuICBjYWxjdWxhdGUoKTtcbn0pO1xuXG4vLyByZWNhbGN1bGF0ZSB0b3RhbCBkZXBvc2l0IHdoZW4gdXNlciBjaGFuZ2UgcHJvZml0IHZhbHVlXG4kKCcuanMtcmFuZ2UnKS5pb25SYW5nZVNsaWRlcih7XG4gIHR5cGU6ICdzaW5nbGUnLFxuICBtYXg6IDUsXG4gIG1pbjogMCxcbiAgZnJvbTogMi41LFxuICBzdGVwOiAwLjEsXG4gIG9uQ2hhbmdlOiBkYXRhID0+IHtcbiAgICBjb25zdCB2YWwgPSBkYXRhLmlucHV0WzBdLnZhbHVlO1xuICAgIHByb2ZpdCA9ICt2YWw7XG4gICAgY2FsY3VsYXRlKCk7XG5cbiAgICAkKCcuaXJzLXNpbmdsZScpLnNob3coKTtcbiAgICAkKCcuY2FsY3VsYXRvcl9fZ3JpZC1pdGVtJykubWFwKGVsID0+IHtcbiAgICAgIGlmICgrdmFsID49ICtlbCkge1xuICAgICAgICAkKGAuY2FsY3VsYXRvcl9fZ3JpZC1pdGVtOmVxKCR7ZWx9KWApLmFkZENsYXNzKCdjYWxjdWxhdG9yX19ncmlkLWl0ZW0tLWNoZWNrJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKGAuY2FsY3VsYXRvcl9fZ3JpZC1pdGVtOmVxKCR7ZWx9KWApLnJlbW92ZUNsYXNzKCdjYWxjdWxhdG9yX19ncmlkLWl0ZW0tLWNoZWNrJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIG9uRmluaXNoOiAoKSA9PiB7XG4gICAgJCgnLmlycy1zaW5nbGUnKS5oaWRlKCk7XG4gIH1cbn0pO1xuICAvLyBzZXQgZmVlZGJhY2sgc2xpZGVyIG9uIG1vYmlsZSBkZXZpY2VzXG5pZiAoJCh3aW5kb3cpLmlubmVyV2lkdGgoKSA8IDEyMDApIHtcbiAgY29uc3QgZmVlZGJhY2tTbGlkZXIgPSBuZXcgU3dpcGVyKCcuZmVlZGJhY2tfX2dyaWQnLCB7XG4gICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXG4gICAgc3BlZWQ6IDUwMCxcbiAgICB3cmFwcGVyQ2xhc3M6ICdmZWVkYmFja19fcm93JyxcbiAgICBzbGlkZUNsYXNzOiAnZmVlZGJhY2tfX3ZpZGVvJyxcbiAgICBzcGFjZUJldHdlZW46IDMwLFxuICAgIGxvb3A6IHRydWUsXG4gICAgcGFnaW5hdGlvbjoge1xuICAgICAgZWw6ICcuZmVlZGJhY2tfX3BhZ2luYXRpb24nLFxuICAgICAgY2xpY2thYmxlOiB0cnVlLFxuICAgIH1cbiAgfSk7XG59XG4gIC8vIHNldCBzbGlkZXJzIGRlcGVuZGluZyBvbiBkZXZpY2VcbmlmICgkKHdpbmRvdykuaW5uZXJXaWR0aCgpIDwgMTIwMCkge1xuICBjb25zdCBzbGlkZXIgPSBuZXcgU3dpcGVyKCcuc2xpZGVyX19jb250YWluZXInLCB7XG4gICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXG4gICAgc3BlZWQ6IDUwMCxcbiAgICB3cmFwcGVyQ2xhc3M6ICdzbGlkZXJfX3dyYXBwZXInLFxuICAgIHNsaWRlQ2xhc3M6ICdzbGlkZXJfX3NsaWRlJyxcbiAgICBzcGFjZUJldHdlZW46IDMwLFxuICAgIGxvb3A6IHRydWUsXG4gICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICBwYWdpbmF0aW9uOiB7XG4gICAgICBlbDogJy5zbGlkZXJfX3BhZ2luYXRpb24nLFxuICAgICAgY2xpY2thYmxlOiB0cnVlLFxuICAgIH1cbiAgfSk7XG59IGVsc2Uge1xuICBjb25zdCBzbGlkZXIgPSBuZXcgU3dpcGVyKCcuc2xpZGVyX19jb250YWluZXInLCB7XG4gICAgZGlyZWN0aW9uOiAndmVydGljYWwnLFxuICAgIHNwZWVkOiA1MDAsXG4gICAgd3JhcHBlckNsYXNzOiAnc2xpZGVyX193cmFwcGVyJyxcbiAgICBzbGlkZUNsYXNzOiAnc2xpZGVyX19zbGlkZScsXG4gICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICBsb29wOiB0cnVlLFxuICAgIGF1dG9wbGF5OiB7XG4gICAgICBkZWxheTogMzAwMCxcbiAgICAgIGRpc2FibGVPbkludGVyYWN0aW9uOiBmYWxzZSxcbiAgICB9LFxuICAgIHBhZ2luYXRpb246IHtcbiAgICAgIGVsOiAnLnNsaWRlcl9fcGFnaW5hdGlvbicsXG4gICAgICBjbGlja2FibGU6IHRydWUsXG4gICAgfVxuICB9KTtcbn1cbiAgLy8gdG9nZ2xpbmcgZmFxIGl0ZW1zXG4kKCcuZmFxLWl0ZW1fX2hlYWQnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdmYXEtaXRlbV9faGVhZC0tb3BlbmVkJykpIHtcbiAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdmYXEtaXRlbV9faGVhZC0tb3BlbmVkJyk7XG4gIH0gZWxzZSB7XG4gICAgJCgnLmZhcS1pdGVtX19oZWFkLS1vcGVuZWQnKS5uZXh0KCkuc2xpZGVVcCgzMDApO1xuICAgICQoJy5mYXEtaXRlbV9faGVhZC0tb3BlbmVkJykucmVtb3ZlQ2xhc3MoJ2ZhcS1pdGVtX19oZWFkLS1vcGVuZWQnKTtcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdmYXEtaXRlbV9faGVhZC0tb3BlbmVkJyk7XG4gIH1cbiAgJCh0aGlzKS5uZXh0KCkuc2xpZGVUb2dnbGUoMzAwKTtcbn0pO1xuICAvLyBzaG93IHBvcHVwXG4kKCcuanMtb3Blbi1wb3B1cCcpLm9uKCdjbGljaycsIGUgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgc2Nyb2xsID0gd2luZG93LnNjcm9sbFk7XG5cbiAgJCgnYm9keScpLmNzcyh7XG4gICAgJ3Bvc2l0aW9uJzogJ2ZpeGVkJyxcbiAgICAnbWFyZ2luLXRvcCc6IC1zY3JvbGxcbiAgfSk7XG4gIFxuICAkKCcucG9wdXAnKS5mYWRlSW4oMzAwKTtcbn0pO1xuXG4vLyBjbG9zZSBwb3B1cFxuJCgnLnBvcHVwX19jbG9zZScpLm9uKCdjbGljaycsICgpID0+IHtcbiAgJCgnYm9keScpLmNzcyh7XG4gICAgJ3Bvc2l0aW9uJzogJ3N0YXRpYycsXG4gICAgJ21hcmdpbi10b3AnOiAnMCdcbiAgfSk7XG5cbiAgd2luZG93LnNjcm9sbFRvKDAsIHNjcm9sbCk7XG5cbiAgJCgnLnBvcHVwJykuZmFkZU91dCgzMDApO1xufSk7XG5cbi8vIHNlbmQgcG9wdXAgZm9ybVxuJCgnLmpzLXNlbmQtdGVsJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICQodGhpcykuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgJCh0aGlzKS5zaWJsaW5ncygnLmlucHV0X19maWVsZCcpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICQoJy5wb3B1cF9fY29kZSBpbnB1dCcpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICQoJy5qcy1zZW5kLWZvcm0nKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xufSk7XG5cbn1cbiJdfQ==
