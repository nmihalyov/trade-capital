window.onload=function(){var i=0;$(".js-open-popup").on("click",function(e){e.preventDefault(),i=window.scrollY,$("body").css({position:"fixed","margin-top":-i}),$(".popup").fadeIn(300)}),$(".popup__close").on("click",function(){$("body").css({position:"static","margin-top":"0"}),window.scrollTo(0,i),$(".popup").fadeOut(300)}),$(".js-send-tel").on("click",function(e){e.preventDefault(),$(this).attr("disabled","disabled"),$(this).siblings(".input__field").attr("disabled","disabled"),$(".js-send-form").removeAttr("disabled")});function e(e){e<1200?$('meta[name="viewport"]').attr("content","width=320"):$('meta[name="viewport"]').attr("content","width=device-width, initial-scale=1, user-scalable=no")}e($(window).innerWidth()),$(window).resize(function(){e($(window).innerWidth())}),$(".js-play-video").on("click",function(){var e=$(this).attr("data-id");$(this).parent().hasClass("video--local")?$(this).parent().find("video").trigger("play"):$(this).parent().append('<iframe width="570" height="285" src="https://www.youtube.com/embed/'+e+'?autoplay=1" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen)>'),$(this).hide()}),$(document).ready(function(){var e=$(".video--local").attr("data-url");$(".video--local").append('<video width="570" height="285" controls="" class="embed-responsive-item" data-mp4="true" id="mautic-player-0">\n    <source src='+e+' type="video/mp4">\n  </video>')}),$(".input__field").on("focus",function(){$(this).parent().addClass("input--focused")}).on("blur",function(){$(this).parent().removeClass("input--focused")}),$(".input__field").on("change",function(){""!==$(this).val()?$(this).parent().addClass("input--filled"):$(this).parent().removeClass("input--filled")}),$(".input--tel .input__field").inputmask("8 999 999 99 99"),$(".input--tel .input__field").on("input",function(){var e=$(this).val();""===e||/_/g.test(e)?$(this).siblings(".js-send-tel").attr("disabled","disabled"):$(this).siblings(".js-send-tel").removeAttr("disabled")}),$(".input--code .input__field").inputmask("9999");function t(){a.map(function(e){e.offset().top<=window.scrollY+$(".header").innerHeight()+30&&($(".header__link--current").removeClass("header__link--current"),$(".header__link[data-scroll="+e[0].classList[0]+"]").addClass("header__link--current"))})}var a=[$(".hero"),$(".why"),$(".about"),$(".faq")];t();var n,o=(n=0,function(e,i){clearTimeout(n),n=setTimeout(e,i)});$(window).on("scroll",function(){o(t,300)});var l=0,s=!1;$(".js-scrollto").on("click",function(e){e.preventDefault(),$("body").css({position:"static","margin-top":"0"}),s=!1,$(".header__burger").removeClass("header__burger--active"),$(".header__mobile").removeClass("header__mobile--active"),$([document.documentElement,document.body]).animate({scrollTop:$("."+$(this).attr("data-scroll")).offset().top-$(".header").innerHeight()},500)}),$(".header__burger").on("click",function(){$(this).toggleClass("header__burger--active"),$(".header__mobile").toggleClass("header__mobile--active"),(s=!s)?(l=window.scrollY,$("body").css({position:"fixed","margin-top":-l})):($("body").css({position:"static","margin-top":"0"}),window.scrollTo(0,l))}),$(".js-scroll-calc").on("click",function(e){e.preventDefault(),$([document.documentElement,document.body]).animate({scrollTop:$(".calc").offset().top-$(".header").innerHeight()-30},500)}),new AutoNumeric('.calculator__input [name="deposit"]',{aSep:" ",decimalPlaces:0}),new AutoNumeric('.calculator__input [name="term"]',{aSep:" ",decimalPlaces:0});function r(){var e=parseInt(d*(p/100)*30*c+d);$(".calculator__total span").text(e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "))}var d=0,c=0,p=0;if($(".calculator__input input").on("input",function(){"deposit"===$(this).attr("name")&&(d=+$(this).val().replace(/ /g,"")),"term"===$(this).attr("name")&&(c=+$(this).val().replace(/ /g,"")),r()}),$(".js-range").ionRangeSlider({type:"single",max:5,min:0,step:.1,onChange:function(e){var i=e.input[0].value;p=+i,r(),$(".irs-single").show(),$(".calculator__grid-item").map(function(e){+e<=+i?$(".calculator__grid-item:eq("+e+")").addClass("calculator__grid-item--check"):$(".calculator__grid-item:eq("+e+")").removeClass("calculator__grid-item--check")})},onFinish:function(){$(".irs-single").hide()}}),$(window).innerWidth()<1200)new Swiper(".feedback__grid",{direction:"horizontal",speed:500,wrapperClass:"feedback__row",slideClass:"feedback__video",spaceBetween:30,loop:!0,pagination:{el:".feedback__pagination",clickable:!0}});if($(window).innerWidth()<1200)new Swiper(".slider__container",{direction:"horizontal",speed:500,wrapperClass:"slider__wrapper",slideClass:"slider__slide",loop:!0,spaceBetween:30,pagination:{el:".slider__pagination",clickable:!0}});else new Swiper(".slider__container",{direction:"vertical",speed:500,wrapperClass:"slider__wrapper",slideClass:"slider__slide",loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},pagination:{el:".slider__pagination",clickable:!0}});$(".faq-item__head").on("click",function(){$(this).toggleClass("faq-item__head--opened"),$(this).next().slideToggle(300)})};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJvbmxvYWQiLCJzY3JvbGwiLCIkIiwib24iLCJlIiwiY3NzIiwicG9zaXRpb24iLCJtYXJnaW4tdG9wIiwiZmFkZUluIiwic2Nyb2xsVG8iLCJmYWRlT3V0IiwiYXR0ciIsInNpYmxpbmdzIiwicmVtb3ZlQXR0ciIsInNldFJlc3BvbnNpdmUiLCJ3aWR0aCIsImlubmVyV2lkdGgiLCJyZXNpemUiLCJJRCIsInRoaXMiLCJwYXJlbnQiLCJoYXNDbGFzcyIsImZpbmQiLCJ0cmlnZ2VyIiwiYXBwZW5kIiwiaGlkZSIsInJlYWR5IiwiVVJMIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsInZhbCIsImlucHV0bWFzayIsInRlc3QiLCJ0b3BPZmZzZXQiLCJzZXRMaW5rcyIsInNlY3Rpb25zIiwiZWwiLCJvZmZzZXQiLCJ0b3AiLCJjbGFzc0xpc3QiLCJjbGVhclRpbWVvdXQiLCJkZWJvdW5jZSIsInRpbWVyIiwic2V0VGltZW91dCIsImNhbGxiYWNrIiwibXMiLCJ3aW5kb3dPZmZzZXQiLCJoZWFkZXJNb2JpbGVTaG93biIsInByZXZlbnREZWZhdWx0IiwiZG9jdW1lbnRFbGVtZW50IiwiZG9jdW1lbnQiLCJzY3JvbGxUb3AiLCJib2R5IiwiYW5pbWF0ZSIsImlubmVySGVpZ2h0IiwidG9nZ2xlQ2xhc3MiLCJBdXRvTnVtZXJpYyIsImFTZXAiLCJkZWNpbWFsUGxhY2VzIiwiY2FsY3VsYXRlIiwidmFsdWUiLCJwYXJzZUludCIsImRlcG9zaXQiLCJwcm9maXQiLCJ0ZXJtIiwidGV4dCIsInRvU3RyaW5nIiwicmVwbGFjZSIsInNwZWVkIiwibWluIiwiaW9uUmFuZ2VTbGlkZXIiLCJzdGVwIiwib25DaGFuZ2UiLCJkYXRhIiwiaW5wdXQiLCJtYXAiLCJvbkZpbmlzaCIsIlN3aXBlciIsInNsaWRlQ2xhc3MiLCJzcGFjZUJldHdlZW4iLCJsb29wIiwicGFnaW5hdGlvbiIsImNsaWNrYWJsZSIsIndyYXBwZXJDbGFzcyIsImF1dG9wbGF5IiwiZGVsYXkiLCJkaXNhYmxlT25JbnRlcmFjdGlvbiIsIm5leHQiLCJzbGlkZVRvZ2dsZSJdLCJtYXBwaW5ncyI6IkFBQUFBLE9BQU9DLE9BQVMsV0FHaEIsSUFBQUMsRUFBSUEsRUFHSkMsRUFBQUEsa0JBQUFDLEdBQW9CQSxRQUFwQixTQUFBQyxHQUNFQSxFQUFBQSxpQkFFQUgsRUFBQUEsT0FBU0YsUUFFVEcsRUFBQUEsUUFBQUcsSUFBVUEsQ0FDUkMsU0FBQSxRQUNBQyxjQUFBTixJQUdGQyxFQUFBQSxVQUFBTSxPQUFZQSxPQUlkTixFQUFBQSxpQkFBQUMsR0FBbUJBLFFBQW5CLFdBQ0VELEVBQUFBLFFBQUFHLElBQVVBLENBQ1JDLFNBQUEsU0FDQUMsYUFBQSxNQUdGUixPQUFBQSxTQUFPVSxFQUFQUixHQUVBQyxFQUFBQSxVQUFBUSxRQUFZQSxPQUlkUixFQUFBQSxnQkFBQUMsR0FBa0JBLFFBQWxCLFNBQThCQyxHQUM1QkEsRUFBQUEsaUJBRUFGLEVBQUFBLE1BQUFTLEtBQVFBLFdBQVIsWUFDQVQsRUFBQUEsTUFBQVUsU0FBUUEsaUJBQVJELEtBQWtDQSxXQUFsQyxZQUNBVCxFQUFBQSxpQkFBQVcsV0FBbUJBLGNBR0MsU0FBaEJDLEVBQWdCQyxHQUNwQkEsRUFBSUEsS0FDRmIsRUFBQUEseUJBQUFTLEtBQTJCQSxVQUEzQixhQUVBVCxFQUFBQSx5QkFBQVMsS0FBMkJBLFVBQTNCLHlEQUtKRyxFQUFBQSxFQUFjWixRQUFBYyxjQUdkZCxFQUFBQSxRQUFBZSxPQUFVQSxXQUNSSCxFQUFBQSxFQUFjWixRQUFBYyxnQkFJaEJkLEVBQUFBLGtCQUFBQyxHQUFvQkEsUUFBcEIsV0FDRSxJQUFNZSxFQUFLaEIsRUFBRWlCLE1BQU1SLEtBQUssV0FDeEJULEVBQUlBLE1BQUFrQixTQUFBQyxTQUFpQkEsZ0JBQ25CbkIsRUFBQUEsTUFBQWtCLFNBQUFFLEtBQWlCQSxTQUFqQkMsUUFBK0JBLFFBRS9CckIsRUFBQUEsTUFBQWtCLFNBQUFJLE9BQUF0Qix1RUFBQWdCLEVB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QUNBRSxXQUFBQSxnQkFDRTdDLE1BQUFBLEVBQ0E4QyxhQUFBQSxHQUZVRCxXQUFBLENBUGQ3QyxHQUFBLHNCQURGOEMsV0FhTyxVQUlIQyxJQUFjTixPQUFBLHFCQUhnQyxDQUk5Q0MsVUFBQUEsV0FDQUUsTUFBQUEsSUFDQUksYUFBVSxrQkFDUkMsV0FBTyxnQkFDUEMsTUFBQUEsRUFGUUYsU0FOb0MsQ0FVOUNILE1BQUFBLElBQ0U3QyxzQkFBSSxHQURNNkMsV0FBQSxDQVZkN0MsR0FBQSxzQkFlRDhDLFdBQUEsS0FLQWhGLEVBQUEsbUJBSERDLEdBQUEsUUFBQSxXQW5TQUQsRUFBQWlCLE1BQUFvQyxZQUFBLDBCQXFTRXJELEVBQUVpQixNQUFNb0UsT0FBT0MsWUFBWSIsImZpbGUiOiJjb21tb24ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2luZG93Lm9ubG9hZCA9ICgpID0+IHtcblxuICAvLyB3aW5kb3cgb2Zmc2V0IHRvIHRvcCBvZiBwYWdlXG5sZXQgc2Nyb2xsID0gMDtcblxuLy8gc2hvdyBwb3B1cFxuJCgnLmpzLW9wZW4tcG9wdXAnKS5vbignY2xpY2snLCBlID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIHNjcm9sbCA9IHdpbmRvdy5zY3JvbGxZO1xuXG4gICQoJ2JvZHknKS5jc3Moe1xuICAgICdwb3NpdGlvbic6ICdmaXhlZCcsXG4gICAgJ21hcmdpbi10b3AnOiAtc2Nyb2xsXG4gIH0pO1xuICBcbiAgJCgnLnBvcHVwJykuZmFkZUluKDMwMCk7XG59KTtcblxuLy8gY2xvc2UgcG9wdXBcbiQoJy5wb3B1cF9fY2xvc2UnKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICQoJ2JvZHknKS5jc3Moe1xuICAgICdwb3NpdGlvbic6ICdzdGF0aWMnLFxuICAgICdtYXJnaW4tdG9wJzogJzAnXG4gIH0pO1xuXG4gIHdpbmRvdy5zY3JvbGxUbygwLCBzY3JvbGwpO1xuXG4gICQoJy5wb3B1cCcpLmZhZGVPdXQoMzAwKTtcbn0pO1xuXG4vLyBzZW5kIHBvcHVwIGZvcm1cbiQoJy5qcy1zZW5kLXRlbCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcblxuICAkKHRoaXMpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICQodGhpcykuc2libGluZ3MoJy5pbnB1dF9fZmllbGQnKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAkKCcuanMtc2VuZC1mb3JtJykucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbn0pO1xuICAvLyBzZXR0aW5nIHZpZXdwb3J0IG1ldGEgdGFnXG5jb25zdCBzZXRSZXNwb25zaXZlID0gd2lkdGggPT4ge1xuICBpZiAod2lkdGggPCAxMjAwKSB7XG4gICAgJCgnbWV0YVtuYW1lPVwidmlld3BvcnRcIl0nKS5hdHRyKCdjb250ZW50JywgJ3dpZHRoPTMyMCcpO1xuICB9IGVsc2Uge1xuICAgICQoJ21ldGFbbmFtZT1cInZpZXdwb3J0XCJdJykuYXR0cignY29udGVudCcsICd3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSwgdXNlci1zY2FsYWJsZT1ubycpO1xuICB9XG59O1xuXG4vLyBzZXQgb25jZSBwYWdlIGlzIGxvYWRlZFxuc2V0UmVzcG9uc2l2ZSgkKHdpbmRvdykuaW5uZXJXaWR0aCgpKTtcblxuLy8gc2V0IG9uIHJlc2l6ZVxuJCh3aW5kb3cpLnJlc2l6ZSgoKSA9PiB7XG4gIHNldFJlc3BvbnNpdmUoJCh3aW5kb3cpLmlubmVyV2lkdGgoKSk7XG59KTtcblxuICAvLyBzaG93IHlvdXR1YmUgdmlkZW8gcGxheWVyXG4kKCcuanMtcGxheS12aWRlbycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgSUQgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtaWQnKVxuICBpZiAoJCh0aGlzKS5wYXJlbnQoKS5oYXNDbGFzcygndmlkZW8tLWxvY2FsJykpIHtcbiAgICAkKHRoaXMpLnBhcmVudCgpLmZpbmQoJ3ZpZGVvJykudHJpZ2dlcigncGxheScpO1xuICB9IGVsc2Uge1xuICAgICQodGhpcykucGFyZW50KCkuYXBwZW5kKGA8aWZyYW1lIHdpZHRoPVwiNTcwXCIgaGVpZ2h0PVwiMjg1XCIgc3JjPVwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvJHtJRH0/YXV0b3BsYXk9MVwiIGZyYW1lYm9yZGVyPVwiMFwiIGFsbG93PVwiYWNjZWxlcm9tZXRlcjsgYXV0b3BsYXk7IGVuY3J5cHRlZC1tZWRpYTsgZ3lyb3Njb3BlOyBwaWN0dXJlLWluLXBpY3R1cmVcIiBhbGxvd2Z1bGxzY3JlZW4pPmApO1xuICB9XG4gICQodGhpcykuaGlkZSgpO1xufSk7XG5cbi8vIGxvYWQgbG9jYWwgdmlkZW9cbiQoZG9jdW1lbnQpLnJlYWR5KCgpID0+IHtcbiAgY29uc3QgVVJMID0gJCgnLnZpZGVvLS1sb2NhbCcpLmF0dHIoJ2RhdGEtdXJsJyk7XG4gICQoJy52aWRlby0tbG9jYWwnKS5hcHBlbmQoYDx2aWRlbyB3aWR0aD1cIjU3MFwiIGhlaWdodD1cIjI4NVwiIGNvbnRyb2xzPVwiXCIgY2xhc3M9XCJlbWJlZC1yZXNwb25zaXZlLWl0ZW1cIiBkYXRhLW1wND1cInRydWVcIiBpZD1cIm1hdXRpYy1wbGF5ZXItMFwiPlxuICAgIDxzb3VyY2Ugc3JjPSR7VVJMfSB0eXBlPVwidmlkZW8vbXA0XCI+XG4gIDwvdmlkZW8+YCk7XG59KTtcbiAgLy8gc2V0IGlucHV0IGZvY3VzIHN0eWxlc1xuJCgnLmlucHV0X19maWVsZCcpLm9uKCdmb2N1cycsIGZ1bmN0aW9uICgpIHtcbiAgJCh0aGlzKS5wYXJlbnQoKS5hZGRDbGFzcygnaW5wdXQtLWZvY3VzZWQnKTtcbn0pLm9uKCdibHVyJywgZnVuY3Rpb24gKCkge1xuICAkKHRoaXMpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdpbnB1dC0tZm9jdXNlZCcpO1xufSk7XG5cbi8vIHNldCBpbnB1dCBmaWxsZWQgc3R5bGVzXG4kKCcuaW5wdXRfX2ZpZWxkJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgJCh0aGlzKS52YWwoKSAhPT0gJycgPyAkKHRoaXMpLnBhcmVudCgpLmFkZENsYXNzKCdpbnB1dC0tZmlsbGVkJykgOiAkKHRoaXMpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdpbnB1dC0tZmlsbGVkJyk7XG59KTtcblxuLy8gYXBwbHkgbWFzayB0byBwaG9uZSBpbnB1dHNcbiQoJy5pbnB1dC0tdGVsIC5pbnB1dF9fZmllbGQnKS5pbnB1dG1hc2soJzggOTk5IDk5OSA5OSA5OScpO1xuXG4vLyBzaG93L2hpZGUgc2VuZCBjb2RlIGJ1dHRvbiBkZXBwZW5kaW5nIG9uIHBob25lIGlucHV0IHZhbHVlXG4kKCcuaW5wdXQtLXRlbCAuaW5wdXRfX2ZpZWxkJykub24oJ2lucHV0JywgZnVuY3Rpb24gKCkge1xuICBjb25zdCB2YWwgPSAkKHRoaXMpLnZhbCgpO1xuICBcbiAgaWYgKHZhbCAhPT0gJycgJiYgIS9fL2cudGVzdCh2YWwpKSB7XG4gICAgJCh0aGlzKS5zaWJsaW5ncygnLmpzLXNlbmQtdGVsJykucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgfSBlbHNlIHtcbiAgICAkKHRoaXMpLnNpYmxpbmdzKCcuanMtc2VuZC10ZWwnKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICB9XG59KTtcblxuLy8gYXBwbHkgbWFzayB0byBjb2RlIGlucHV0c1xuJCgnLmlucHV0LS1jb2RlIC5pbnB1dF9fZmllbGQnKS5pbnB1dG1hc2soJzk5OTknKTtcblxuICAvLyBzZXQgc2VjdGlvbnMgbWVudGlvbmVkIGluIGhlYWRlclxuY29uc3Qgc2VjdGlvbnMgPSBbJCgnLmhlcm8nKSwgJCgnLndoeScpLCAkKCcuYWJvdXQnKSwgJCgnLmZhcScpXTtcblxuLy8gc2V0IGN1cnJlbnQgc2VjdGlvblxuY29uc3Qgc2V0TGlua3MgPSAoKSA9PiB7XG4gIHNlY3Rpb25zLm1hcChlbCA9PiB7XG4gICAgY29uc3QgdG9wT2Zmc2V0ID0gZWwub2Zmc2V0KCkudG9wO1xuICAgIGlmICh0b3BPZmZzZXQgPD0gd2luZG93LnNjcm9sbFkgKyAkKCcuaGVhZGVyJykuaW5uZXJIZWlnaHQoKSArIDMwKSB7XG4gICAgICAkKCcuaGVhZGVyX19saW5rLS1jdXJyZW50JykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fbGluay0tY3VycmVudCcpO1xuICAgICAgJChgLmhlYWRlcl9fbGlua1tkYXRhLXNjcm9sbD0ke2VsWzBdLmNsYXNzTGlzdFswXX1dYCkuYWRkQ2xhc3MoJ2hlYWRlcl9fbGluay0tY3VycmVudCcpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vLyBzZXQgb25jZSBwYWdlIGlzIGxvYWRlZFxuc2V0TGlua3MoKTtcblxuLy8gZnVuY3Rpb24gY2FsbCBmcmVxdWVuY3kgbGF0ZW5jeSBmb3IgYmV0dGVyIHBlcm1vYW5jZVxuY29uc3QgZGVib3VuY2UgPSAoZnVuY3Rpb24oKXtcbiAgdmFyIHRpbWVyID0gMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKGNhbGxiYWNrLCBtcyl7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIG1zKTtcbiAgfTtcbn0pKCk7XG5cbi8vIHNldCBvbiBwYWdlIHNjcm9sbFxuJCh3aW5kb3cpLm9uKCdzY3JvbGwnLCAoKSA9PiB7XG4gIGRlYm91bmNlKHNldExpbmtzLCAzMDApO1xufSk7XG5cblxubGV0IHdpbmRvd09mZnNldCA9IDA7XG5sZXQgaGVhZGVyTW9iaWxlU2hvd24gPSBmYWxzZTtcblxuLy8gc2Nyb2xsIHRvIHNwZWNpZmljIHNlY3Rpb25cbiQoJy5qcy1zY3JvbGx0bycpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcblxuICAkKCdib2R5JykuY3NzKHtcbiAgICAncG9zaXRpb24nOiAnc3RhdGljJyxcbiAgICAnbWFyZ2luLXRvcCc6ICcwJ1xuICB9KTtcblxuICBoZWFkZXJNb2JpbGVTaG93biA9IGZhbHNlO1xuXG4gICQoJy5oZWFkZXJfX2J1cmdlcicpLnJlbW92ZUNsYXNzKCdoZWFkZXJfX2J1cmdlci0tYWN0aXZlJyk7XG4gICQoJy5oZWFkZXJfX21vYmlsZScpLnJlbW92ZUNsYXNzKCdoZWFkZXJfX21vYmlsZS0tYWN0aXZlJyk7XG5cbiAgJChbZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCBkb2N1bWVudC5ib2R5XSkuYW5pbWF0ZSh7XG4gICAgc2Nyb2xsVG9wOiAkKGAuJHskKHRoaXMpLmF0dHIoJ2RhdGEtc2Nyb2xsJyl9YCkub2Zmc2V0KCkudG9wIC0gJCgnLmhlYWRlcicpLmlubmVySGVpZ2h0KClcbiAgfSwgNTAwKTtcbn0pO1xuXG4vLyBoYW5kbGluZyBtb2JpbGUgbWVudVxuJCgnLmhlYWRlcl9fYnVyZ2VyJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdoZWFkZXJfX2J1cmdlci0tYWN0aXZlJyk7XG4gICQoJy5oZWFkZXJfX21vYmlsZScpLnRvZ2dsZUNsYXNzKCdoZWFkZXJfX21vYmlsZS0tYWN0aXZlJyk7XG5cbiAgaGVhZGVyTW9iaWxlU2hvd24gPSAhaGVhZGVyTW9iaWxlU2hvd247XG5cbiAgaWYgKGhlYWRlck1vYmlsZVNob3duKSB7XG4gICAgd2luZG93T2Zmc2V0ID0gd2luZG93LnNjcm9sbFk7XG4gICAgJCgnYm9keScpLmNzcyh7XG4gICAgICAncG9zaXRpb24nOiAnZml4ZWQnLFxuICAgICAgJ21hcmdpbi10b3AnOiAtd2luZG93T2Zmc2V0XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgJCgnYm9keScpLmNzcyh7XG4gICAgICAncG9zaXRpb24nOiAnc3RhdGljJyxcbiAgICAgICdtYXJnaW4tdG9wJzogJzAnXG4gICAgfSk7XG5cbiAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgd2luZG93T2Zmc2V0KTtcbiAgfVxufSk7XG4gIC8vIHNjcm9sbCB0byBjYWxjIHNlY3Rpb25cbiQoJy5qcy1zY3JvbGwtY2FsYycpLm9uKCdjbGljaycsIGUgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICQoW2RvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgZG9jdW1lbnQuYm9keV0pLmFuaW1hdGUoe1xuICAgIHNjcm9sbFRvcDogJCgnLmNhbGMnKS5vZmZzZXQoKS50b3AgLSAkKCcuaGVhZGVyJykuaW5uZXJIZWlnaHQoKSAtIDMwXG4gIH0sIDUwMCk7XG59KTtcbiAgLy8gbWFzayBmb3IgZGVwb3NpdCBpbnB1dFxubmV3IEF1dG9OdW1lcmljKCcuY2FsY3VsYXRvcl9faW5wdXQgW25hbWU9XCJkZXBvc2l0XCJdJywge1xuICBhU2VwOiAnICcsXG4gIGRlY2ltYWxQbGFjZXM6IDBcbn0pO1xuXG4vLyBtYXNrIGZvciB0ZXJtIGlucHV0XG5uZXcgQXV0b051bWVyaWMoJy5jYWxjdWxhdG9yX19pbnB1dCBbbmFtZT1cInRlcm1cIl0nLCB7XG4gIGFTZXA6ICcgJyxcbiAgZGVjaW1hbFBsYWNlczogMFxufSk7XG5cbmxldCBkZXBvc2l0ID0gMDtcbmxldCB0ZXJtID0gMDtcbmxldCBwcm9maXQgPSAwO1xuXG4vLyBjYWxjdWxhdGUgdG90YWwgZGVwb3NpdFxuY29uc3QgY2FsY3VsYXRlID0gKCkgPT4ge1xuICBjb25zdCB2YWx1ZSA9IHBhcnNlSW50KGRlcG9zaXQgKiAocHJvZml0IC8gMTAwKSAqIDMwICogdGVybSArIGRlcG9zaXQpO1xuICAkKCcuY2FsY3VsYXRvcl9fdG90YWwgc3BhbicpLnRleHQodmFsdWUudG9TdHJpbmcoKS5yZXBsYWNlKC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLCBcIiBcIikpO1xufTtcblxuLy8gcmVjYWxjdWxhdGUgdG90YWwgZGVwb3NpdCB3aGVuIHVzZXIgY2hhbmdlIGRhdGFcbiQoJy5jYWxjdWxhdG9yX19pbnB1dCBpbnB1dCcpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcbiAgaWYgKCQodGhpcykuYXR0cignbmFtZScpID09PSAnZGVwb3NpdCcpIHtcbiAgICBkZXBvc2l0ID0gKyQodGhpcykudmFsKCkucmVwbGFjZSgvIC9nLCAnJyk7XG4gIH1cbiAgaWYgKCQodGhpcykuYXR0cignbmFtZScpID09PSAndGVybScpIHtcbiAgICB0ZXJtID0gKyQodGhpcykudmFsKCkucmVwbGFjZSgvIC9nLCAnJyk7XG4gIH1cblxuICBjYWxjdWxhdGUoKTtcbn0pO1xuXG4vLyByZWNhbGN1bGF0ZSB0b3RhbCBkZXBvc2l0IHdoZW4gdXNlciBjaGFuZ2UgcHJvZml0IHZhbHVlXG4kKCcuanMtcmFuZ2UnKS5pb25SYW5nZVNsaWRlcih7XG4gIHR5cGU6ICdzaW5nbGUnLFxuICBtYXg6IDUsXG4gIG1pbjogMCxcbiAgc3RlcDogMC4xLFxuICBvbkNoYW5nZTogZGF0YSA9PiB7XG4gICAgY29uc3QgdmFsID0gZGF0YS5pbnB1dFswXS52YWx1ZTtcbiAgICBwcm9maXQgPSArdmFsO1xuICAgIGNhbGN1bGF0ZSgpO1xuXG4gICAgJCgnLmlycy1zaW5nbGUnKS5zaG93KCk7XG4gICAgJCgnLmNhbGN1bGF0b3JfX2dyaWQtaXRlbScpLm1hcChlbCA9PiB7XG4gICAgICBpZiAoK3ZhbCA+PSArZWwpIHtcbiAgICAgICAgJChgLmNhbGN1bGF0b3JfX2dyaWQtaXRlbTplcSgke2VsfSlgKS5hZGRDbGFzcygnY2FsY3VsYXRvcl9fZ3JpZC1pdGVtLS1jaGVjaycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJChgLmNhbGN1bGF0b3JfX2dyaWQtaXRlbTplcSgke2VsfSlgKS5yZW1vdmVDbGFzcygnY2FsY3VsYXRvcl9fZ3JpZC1pdGVtLS1jaGVjaycpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBvbkZpbmlzaDogKCkgPT4ge1xuICAgICQoJy5pcnMtc2luZ2xlJykuaGlkZSgpO1xuICB9XG59KTtcbiAgLy8gc2V0IGZlZWRiYWNrIHNsaWRlciBvbiBtb2JpbGUgZGV2aWNlc1xuaWYgKCQod2luZG93KS5pbm5lcldpZHRoKCkgPCAxMjAwKSB7XG4gIGNvbnN0IGZlZWRiYWNrU2xpZGVyID0gbmV3IFN3aXBlcignLmZlZWRiYWNrX19ncmlkJywge1xuICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxuICAgIHNwZWVkOiA1MDAsXG4gICAgd3JhcHBlckNsYXNzOiAnZmVlZGJhY2tfX3JvdycsXG4gICAgc2xpZGVDbGFzczogJ2ZlZWRiYWNrX192aWRlbycsXG4gICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICBsb29wOiB0cnVlLFxuICAgIHBhZ2luYXRpb246IHtcbiAgICAgIGVsOiAnLmZlZWRiYWNrX19wYWdpbmF0aW9uJyxcbiAgICAgIGNsaWNrYWJsZTogdHJ1ZSxcbiAgICB9XG4gIH0pO1xufVxuICAvLyBzZXQgc2xpZGVycyBkZXBlbmRpbmcgb24gZGV2aWNlXG5pZiAoJCh3aW5kb3cpLmlubmVyV2lkdGgoKSA8IDEyMDApIHtcbiAgY29uc3Qgc2xpZGVyID0gbmV3IFN3aXBlcignLnNsaWRlcl9fY29udGFpbmVyJywge1xuICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxuICAgIHNwZWVkOiA1MDAsXG4gICAgd3JhcHBlckNsYXNzOiAnc2xpZGVyX193cmFwcGVyJyxcbiAgICBzbGlkZUNsYXNzOiAnc2xpZGVyX19zbGlkZScsXG4gICAgbG9vcDogdHJ1ZSxcbiAgICBzcGFjZUJldHdlZW46IDMwLFxuICAgIHBhZ2luYXRpb246IHtcbiAgICAgIGVsOiAnLnNsaWRlcl9fcGFnaW5hdGlvbicsXG4gICAgICBjbGlja2FibGU6IHRydWUsXG4gICAgfVxuICB9KTtcbn0gZWxzZSB7XG4gIGNvbnN0IHNsaWRlciA9IG5ldyBTd2lwZXIoJy5zbGlkZXJfX2NvbnRhaW5lcicsIHtcbiAgICBkaXJlY3Rpb246ICd2ZXJ0aWNhbCcsXG4gICAgc3BlZWQ6IDUwMCxcbiAgICB3cmFwcGVyQ2xhc3M6ICdzbGlkZXJfX3dyYXBwZXInLFxuICAgIHNsaWRlQ2xhc3M6ICdzbGlkZXJfX3NsaWRlJyxcbiAgICBsb29wOiB0cnVlLFxuICAgIGF1dG9wbGF5OiB7XG4gICAgICBkZWxheTogMzAwMCxcbiAgICAgIGRpc2FibGVPbkludGVyYWN0aW9uOiBmYWxzZSxcbiAgICB9LFxuICAgIHBhZ2luYXRpb246IHtcbiAgICAgIGVsOiAnLnNsaWRlcl9fcGFnaW5hdGlvbicsXG4gICAgICBjbGlja2FibGU6IHRydWUsXG4gICAgfVxuICB9KTtcbn1cbiAgLy8gdG9nZ2xpbmcgZmFxIGl0ZW1zXG4kKCcuZmFxLWl0ZW1fX2hlYWQnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICQodGhpcykudG9nZ2xlQ2xhc3MoJ2ZhcS1pdGVtX19oZWFkLS1vcGVuZWQnKTtcbiAgJCh0aGlzKS5uZXh0KCkuc2xpZGVUb2dnbGUoMzAwKTtcbn0pO1xuXG59XG4iXX0=
